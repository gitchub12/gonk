{
  "summary": {
    "totalFiles": 52,
    "originalSize": 1423687,
    "optimizedSize": 147719,
    "tokensSaved": 1275968,
    "reductionPercentage": "89.6"
  },
  "fileResults": [
    {
      "path": "e:\\gonk\\data\\factionJSONs\\1_aliens.json",
      "originalSize": 39760,
      "condensedSize": 4725,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/1_aliens.json - Faction: aliens\",\n  \"base_type_defaults\": {\n    \"aliens_generic\": {\n      \"threat\": 1,\n      \"health\": 60,\n      \"melee_damage\": 5.5,\n      \"attack_cooldown\": 2.7,\n      \"attack_range\": 1.65,\n      \"accuracy\": 66,\n      \"perception_radius\": 27.5,\n      \"aggro\": 0.55,\n      \"speed\": 0.028,\n      \"collision_radius\": 0.5,\n      \"weight\": 88,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 88,\n      \"technical_understanding\": 33,\n      \"force_sensitivity\": 5.5,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0,\n      \"lie_attack\": 40,\n      \"lie_defense\": 40,\n      \"charm_attack\": 40,\n      \"...(more keys)\": \"2 additional properties\"\n    },\n    \"halfpints\": {\n      \"threat\": 1,\n      \"health\": 55,\n      \"melee_damage\": 2.2,\n      \"attack_cooldown\": 2.7,\n      \"attack_range\": 1.32,\n      \"accuracy\": 66,\n      \"perception_radius\": 22,\n      \"aggro\": 0.22,\n      \"speed\": 0.028,\n      \"collision_radius\": 0.3,\n      \"weight\": 33,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 33,\n      \"technical_understanding\": 11,\n      \"force_sensitivity\": 27.5,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0,\n      \"lie_attack\": 40,\n      \"lie_defense\": 30,\n      \"charm_attack\": 40,\n      \"...(more keys)\": \"1 additional properties\"\n    },\n    \"wookiee\": {\n      \"threat\": 1,\n      \"health\": 70,\n      \"melee_damage\": 11.2,\n      \"attack_cooldown\": 1.8,\n      \"attack_range\": 2.52,\n      \"accuracy\": 119,\n      \"perception_radius\": 42,\n      \"aggro\": 0.7,\n      \"speed\": 0.035,\n      \"collision_radius\": 0.6,\n      \"weight\": 168,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 210,\n      \"technical_understanding\": 56,\n      \"force_sensitivity\": 14,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0.75,\n      \"lie_attack\": 40,\n      \"lie_defense\": 40,\n      \"charm_attack\": 40,\n      \"...(more keys)\": \"1 additional properties\"\n    }\n  },\n  \"aliens_generic\": {\n    \"name\": \"Generic Aliens\",\n    \"baseType\": \"humanoid\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/generic/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(29 more items)\"\n    ]\n  },\n  \"gamorrean\": {\n    \"name\": \"Gamorrean\",\n    \"baseType\": \"gamorrean\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/gamorrean/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ]\n  },\n  \"gungan\": {\n    \"name\": \"Gungan\",\n    \"baseType\": \"gungan\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/gungan/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ]\n  },\n  \"moncalamari\": {\n    \"name\": \"Mon Calamari\",\n    \"baseType\": \"moncalamari\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/moncalamari/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  },\n  \"wookiee\": {\n    \"name\": \"Wookiee\",\n    \"baseType\": \"wookiee\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/wookiee/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(15 more items)\"\n    ]\n  },\n  \"halfpints\": {\n    \"name\": \"Half-Pints\",\n    \"baseType\": \"halfpint\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/halfpints/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(14 more items)\"\n    ]\n  },\n  \"hutt\": {\n    \"name\": \"Hutt\",\n    \"baseType\": \"hutt\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/hutt/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  },\n  \"quarterpints\": {\n    \"name\": \"Quarter-Pints\",\n    \"baseType\": \"quarterpint\",\n    \"faction\": \"aliens\",\n    \"macroCategory\": \"Aliens\",\n    \"path\": \"aliens/humanoid/quarterpints/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  }\n}",
      "compressionRatio": 0.11883802816901408,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\2_clones.json",
      "originalSize": 133266,
      "condensedSize": 1787,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/factionJSONs/2_clones.json - Faction: clones\",\n  \"base_type_defaults\": {\n    \"clone\": {\n      \"threat\": 1,\n      \"health\": 55,\n      \"melee_damage\": 5.5,\n      \"attack_cooldown\": 2.7,\n      \"attack_range\": 16.5,\n      \"accuracy\": 77,\n      \"perception_radius\": 33,\n      \"aggro\": 0.55,\n      \"speed\": 0.03,\n      \"collision_radius\": 0.5,\n      \"weight\": 88,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 88,\n      \"technical_understanding\": 82.5,\n      \"force_sensitivity\": 1.1,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0,\n      \"lie_attack\": 30,\n      \"lie_defense\": 50,\n      \"charm_attack\": 40,\n      \"...(more keys)\": \"3 additional properties\"\n    },\n    \"501st\": {\n      \"threat\": 4,\n      \"health\": 70,\n      \"melee_damage\": 6,\n      \"attack_cooldown\": 1.8,\n      \"attack_range\": 21,\n      \"accuracy\": 98,\n      \"perception_radius\": 42,\n      \"aggro\": 0.7,\n      \"speed\": 0.038,\n      \"collision_radius\": 0.5,\n      \"weight\": 112,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 112,\n      \"technical_understanding\": 105,\n      \"force_sensitivity\": 1.4,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0.75,\n      \"lie_attack\": 30,\n      \"lie_defense\": 50,\n      \"charm_attack\": 40,\n      \"...(more keys)\": \"3 additional properties\"\n    }\n  },\n  \"clones\": {\n    \"name\": \"Clones\",\n    \"baseType\": \"clone\",\n    \"faction\": \"clones\",\n    \"macroCategory\": \"Clones\",\n    \"path\": \"clones/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(283 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.01340927168219951,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\3_rebels.json",
      "originalSize": 27953,
      "condensedSize": 2887,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/factionJSONs/3_rebels.json - Faction: rebels\",\n  \"base_type_defaults\": {\n    \"human_female\": {\n      \"threat\": 3,\n      \"health\": 65,\n      \"melee_damage\": 3.9,\n      \"attack_cooldown\": 2.1,\n      \"attack_range\": 1.95,\n      \"accuracy\": 78,\n      \"perception_radius\": 32.5,\n      \"aggro\": 0.52,\n      \"speed\": 0.036,\n      \"collision_radius\": 0.45,\n      \"weight\": 91,\n      \"soundSet\": \"female\",\n      \"weight_lift\": 97.5,\n      \"technical_understanding\": 91,\n      \"force_sensitivity\": 6.5,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0.5,\n      \"default_weapon\": \"pistol_dh17_rebel.png\"\n    },\n    \"human_male\": {\n      \"threat\": 3,\n      \"health\": 65,\n      \"melee_damage\": 5.2,\n      \"attack_cooldown\": 2.1,\n      \"attack_range\": 1.95,\n      \"accuracy\": 78,\n      \"perception_radius\": 32.5,\n      \"aggro\": 0.52,\n      \"speed\": 0.036,\n      \"collision_radius\": 0.5,\n      \"weight\": 110.5,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 104,\n      \"technical_understanding\": 91,\n      \"force_sensitivity\": 6.5,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0.5,\n      \"default_weapon\": \"pistol_dh17_rebel.png\"\n    },\n    \"rebelnonhuman\": {\n      \"threat\": 2,\n      \"health\": 50,\n      \"melee_damage\": 4,\n      \"attack_cooldown\": 2.5,\n      \"attack_range\": 1.8,\n      \"accuracy\": 70,\n      \"perception_radius\": 30,\n      \"aggro\": 0.5,\n      \"speed\": 0.03,\n      \"collision_radius\": 0.4,\n      \"weight\": 80,\n      \"soundSet\": \"...(truncated)\",\n      \"weight_lift\": 90,\n      \"technical_understanding\": 80,\n      \"force_sensitivity\": 5,\n      \"special_moves\": \"...(truncated)\",\n      \"jump_strength\": 0.4,\n      \"default_weapon\": \"pistol_dl44_han.png\"\n    }\n  },\n  \"human_female\": {\n    \"name\": \"Females\",\n    \"baseType\": \"human_female\",\n    \"faction\": \"rebels\",\n    \"macroCategory\": \"Rebels\",\n    \"path\": \"humans/females/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(16 more items)\"\n    ]\n  },\n  \"human_male\": {\n    \"name\": \"Males\",\n    \"baseType\": \"human_male\",\n    \"faction\": \"rebels\",\n    \"macroCategory\": \"Rebels\",\n    \"path\": \"humans/males/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(19 more items)\"\n    ]\n  },\n  \"rebelnonhumans\": {\n    \"name\": \"Non-Humans\",\n    \"baseType\": \"rebelnonhuman\",\n    \"faction\": \"rebels\",\n    \"macroCategory\": \"Rebels\",\n    \"path\": \"humans/rebelnonhumans/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  }\n}",
      "compressionRatio": 0.10328050656459056,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\4_mandolorians.json",
      "originalSize": 21198,
      "condensedSize": 558,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/4_mandolorians.json - Faction: mandalorians\",\n  \"mandalorian\": {\n    \"name\": \"Mandalorians\",\n    \"baseType\": \"mandalorian\",\n    \"faction\": \"mandalorians\",\n    \"macroCategory\": \"Mandalorians\",\n    \"path\": \"mandolorians/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(20 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.026323238041324654,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\5_sith.json",
      "originalSize": 54053,
      "condensedSize": 498,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/5_sith.json - Faction: sith\",\n  \"darth\": {\n    \"name\": \"Sith\",\n    \"baseType\": \"darth\",\n    \"faction\": \"sith\",\n    \"macroCategory\": \"Sith\",\n    \"path\": \"sith/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(68 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.009213179657003311,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\6_imperials.json",
      "originalSize": 19234,
      "condensedSize": 1059,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/factionJSONs/6_imperials.json - Faction: imperials\",\n  \"imperial_officer\": {\n    \"name\": \"Imperial Officers\",\n    \"baseType\": \"stormtrooper\",\n    \"faction\": \"imperials\",\n    \"macroCategory\": \"Imperials\",\n    \"path\": \"stormtrooper/stormtrooper/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(11 more items)\"\n    ]\n  },\n  \"stormtrooper\": {\n    \"name\": \"Troopers\",\n    \"baseType\": \"stormtrooper\",\n    \"faction\": \"imperials\",\n    \"macroCategory\": \"Imperials\",\n    \"path\": \"stormtrooper/stormtrooper/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(28 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.055058750129978164,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\7_takers.json",
      "originalSize": 19268,
      "condensedSize": 507,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/factionJSONs/7_takers.json \",\n  \"takers\": {\n    \"name\": \"Takers\",\n    \"faction\": \"takers\",\n    \"baseType\": \"taker\",\n    \"macroCategory\": \"Takers\",\n    \"path\": \"takers/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(16 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.026313057919867138,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\factionJSONs\\8_droids.json",
      "originalSize": 50544,
      "condensedSize": 3074,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/skins/droids.json - Faction: droids\",\n  \"droid_humanoid\": {\n    \"name\": \"Humanoid Droids\",\n    \"baseType\": \"droid_humanoid\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/humanoid/generic/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(52 more items)\"\n    ]\n  },\n  \"r2d2\": {\n    \"name\": \"R2 Units\",\n    \"baseType\": \"r2d2\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/humanoid/r2d2/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ]\n  },\n  \"r5d4\": {\n    \"name\": \"R5 Units\",\n    \"baseType\": \"r5d4\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/humanoid/r5d4/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ]\n  },\n  \"irongolem\": {\n    \"name\": \"Large Droids\",\n    \"baseType\": \"irongolem\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/irongolem/irongolem/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(13 more items)\"\n    ]\n  },\n  \"xerox\": {\n    \"name\": \"Xerox Droids\",\n    \"baseType\": \"irongolem\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/irongolem/xerox/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  },\n  \"bb8\": {\n    \"name\": \"BB Units\",\n    \"baseType\": \"bb8\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/slime/bb8/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(1 more items)\"\n    ]\n  },\n  \"gonk\": {\n    \"name\": \"Gonk Droids\",\n    \"baseType\": \"gonk\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/slime/gonk/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  },\n  \"mousedroid\": {\n    \"name\": \"Mouse Droids\",\n    \"baseType\": \"mousedroid\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/slime/mousedroid/\",\n    \"textures\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(3 more items)\"\n    ]\n  },\n  \"probe\": {\n    \"name\": \"Probe Droids\",\n    \"baseType\": \"probe\",\n    \"faction\": \"droids\",\n    \"macroCategory\": \"Droids\",\n    \"path\": \"droids/spider/probe/\",\n    \"textures\": [\n      \"...(truncated)\"\n    ]\n  }\n}",
      "compressionRatio": 0.06081829692940804,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\0_globals.json",
      "originalSize": 227,
      "condensedSize": 227,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/0_globals.json \",\n  \"defaults\": {\n    \"scale_x\": 1,\n    \"scale_y\": 1,\n    \"scale_z\": 1,\n    \"y_offset\": 0,\n    \"speed_multiplier\": 1,\n    \"flyspeed\": 0,\n    \"permanent_ally\": false\n  }\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\conversations_h1.json",
      "originalSize": 7944,
      "condensedSize": 7944,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/conversations_h1.json. Contains all 'h1' (happy/friendly) attitude phrases for 'language_basic'.\",\n  \"phrases\": [\n    {\n      \"text\": \"Good to see you, friend.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"Well met. It's a fine day for a patrol.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"clone\",\n        \"imperial\",\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"official\"\n      ]\n    },\n    {\n      \"text\": \"Another believer in freedom! Well met.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"topic\": \"independence\"\n    },\n    {\n      \"text\": \"It's good to see someone who respects the Jedi.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"topic\": \"jedi\"\n    },\n    {\n      \"text\": \"I've heard good things about you.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"And to you! A great day.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ]\n    },\n    {\n      \"text\": \"Just glad to see a friendly face.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ]\n    },\n    {\n      \"text\": \"The Jedi are a light in the dark, aren't they?\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"jedi\",\n        \"force\"\n      ],\n      \"topic\": \"jedi\"\n    },\n    {\n      \"text\": \"My droid saved my life last week. I'd trust it with anything.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\",\n        \"alien\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"droids\"\n      ],\n      \"topic\": \"droids\"\n    },\n    {\n      \"text\": \"It's a beautiful ship, isn't it? The pride of the fleet.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"clone\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"ship\"\n      ],\n      \"topic\": \"ship\"\n    },\n    {\n      \"text\": \"Those Takers are a menace. Glad we're on the same side against them.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"takers\"\n      ],\n      \"topic\": \"takers\"\n    },\n    {\n      \"text\": \"May the Force be with you.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"outcome\": \"relation_change\",\n      \"value\": 1\n    },\n    {\n      \"text\": \"Stay safe out there, friend.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"For the Republic!\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"clone\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"They are the hope of the galaxy. It's an honor to stand with you.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"jedi\",\n        \"force\"\n      ],\n      \"outcome\": \"relation_change\",\n      \"value\": 5\n    },\n    {\n      \"text\": \"For the Rebellion! Always.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"independence\"\n      ],\n      \"outcome\": \"relation_change\",\n      \"value\": 5\n    },\n    {\n      \"text\": \"This is the Way.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"mandalorian\"\n      ],\n      \"to_faction\": [\n        \"mandalorian\"\n      ],\n      \"on_topic_received\": [\n        \"mandalore\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Exactly! I knew you were a smart one.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"liked\",\n      \"outcome\": \"relation_change\",\n      \"value\": 2\n    },\n    {\n      \"text\": \"Well said, friend. Well said.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"liked\",\n      \"outcome\": \"relation_change\",\n      \"value\": 2\n    },\n    {\n      \"text\": \"Ah, I see. I don't quite agree, but I respect your view.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"rebel\",\n        \"clone\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"disliked\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Is that so? We'll have to agree to disagree, then. Be well.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"disliked\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Heh, I'm glad we're not fighting those clankers anymore. Let's find some true enemies.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"clone\"\n      ],\n      \"to_faction\": [\n        \"rebel\",\n        \"imperial\"\n      ],\n      \"on_topic_received\": [\n        \"droids\"\n      ],\n      \"style_tags\": [\n        \"agreement\"\n      ],\n      \"outcome\": \"push_faction_topic\",\n      \"value\": {\n        \"target_faction\": \"droids\",\n        \"change\": -2\n      }\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\conversations_i1.json",
      "originalSize": 24512,
      "condensedSize": 2799,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/conversations_i1.json. Contains all 'i1' (neutral) attitude phrases for 'language_basic'.\",\n  \"phrases\": [\n    {\n      \"text\": \"Greetings, stranger.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\"\n    },\n    {\n      \"text\": \"State your business.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"style_tags\": \"...(truncated)\"\n    },\n    {\n      \"text\": \"Good day to you.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"What's the news on the holonet?\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"holonet\"\n    },\n    {\n      \"text\": \"Seen any Takers around here?\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"takers\"\n    },\n    {\n      \"text\": \"This whole ship... it's a marvel.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"ship\"\n    },\n    {\n      \"text\": \"You look like you've seen things. Ever hear tales of the Old Republic?\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"history\"\n    },\n    {\n      \"text\": \"Just... move along.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"style_tags\": \"...(truncated)\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"I've heard strange whispers... about the Force.\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"force\"\n    },\n    {\n      \"text\": \"What's your take on the droids in this sector?\",\n      \"type\": \"...(truncated)\",\n      \"language\": \"language_basic\",\n      \"attitude\": \"i1\",\n      \"from_faction\": \"...(truncated)\",\n      \"to_faction\": \"...(truncated)\",\n      \"topic\": \"droids\"\n    },\n    \"...(56 more items)\"\n  ]\n}",
      "compressionRatio": 0.11418896866840732,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\conversations_m1.json",
      "originalSize": 7863,
      "condensedSize": 7863,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/conversations_m1.json. Contains all 'm1' (mad/hostile) attitude phrases for 'language_basic'.\",\n  \"phrases\": [\n    {\n      \"text\": \"You're in my way. Move.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"rude\"\n      ]\n    },\n    {\n      \"text\": \"I don't like your face. Give me one reason not to blast it.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"sith\",\n        \"mandalorian\",\n        \"taker\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"challenge\",\n        \"rude\"\n      ]\n    },\n    {\n      \"text\": \"Another lost 'rebel' fool. Pathetic.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"sith\"\n      ],\n      \"to_faction\": [\n        \"rebel\"\n      ],\n      \"topic\": \"independence\"\n    },\n    {\n      \"text\": \"Don't try any of your Jedi mind tricks on me.\",\n      \"type\": [\n        \"greeting\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"clone\",\n        \"mandalorian\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ],\n      \"topic\": \"force\"\n    },\n    {\n      \"text\": \"Back off! I'm not in the mood.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"style_tags\": [\n        \"rude\"\n      ]\n    },\n    {\n      \"text\": \"You'll be the one moving, scrap-heap.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ]\n    },\n    {\n      \"text\": \"The Jedi are dead. And you'll be joining them!\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"sith\",\n        \"taker\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"jedi\"\n      ],\n      \"topic\": \"jedi\",\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Your 'order' is a boot on our necks. We'll break it.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"rebel\",\n        \"mandalorian\"\n      ],\n      \"to_faction\": [\n        \"imperial\",\n        \"sith\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"order\"\n      ],\n      \"topic\": \"order\"\n    },\n    {\n      \"text\": \"A clanker? You're trusting a clanker? You're dumber than I thought.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"clone\",\n        \"imperial\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"droids\"\n      ],\n      \"topic\": \"droids\"\n    },\n    {\n      \"text\": \"Your precious 'independence' is just chaos. You'll be crushed.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"sith\"\n      ],\n      \"to_faction\": [\n        \"rebel\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"independence\"\n      ],\n      \"topic\": \"independence\"\n    },\n    {\n      \"text\": \"Your flesh is weak. You will be remade by the Takers.\",\n      \"type\": [\n        \"reply\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"taker\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"takers\"\n      ],\n      \"topic\": \"takers\"\n    },\n    {\n      \"text\": \"I'm done talking. Draw your weapon.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Get out of my sight before I change my mind.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Jedi-lover! You're all the same. Die!\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\",\n        \"sith\",\n        \"clone\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"jedi\",\n        \"force\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"The Force won't save you from this blaster.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"force\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Treasonous dog! For the Empire!\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"imperial\"\n      ],\n      \"to_faction\": [\n        \"rebel\"\n      ],\n      \"on_topic_received\": [\n        \"independence\",\n        \"order\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"You will be the first to join us.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"taker\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"takers\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Hah! At least you're not a *total* idiot.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"liked\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Good. We understand each other then. Now get lost.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"liked\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"That's what I thought. You're all talk.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"disliked\",\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Wrong answer, scum.\",\n      \"type\": [\n        \"response\"\n      ],\n      \"language\": \"language_basic\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"any\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_reaction\": \"disliked\",\n      \"outcome\": \"combat\"\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\conversations_nonbasic.json",
      "originalSize": 7458,
      "condensedSize": 7458,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/conversations_nonbasic.json. Contains all phrases for non-Basic languages (Wookiee, Jawa, Droid, etc.) across all attitudes.\",\n  \"phrases\": [\n    {\n      \"text\": \"Rrrgwhr.\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_wookiee\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"wookiee\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Wraarr. (Friendly)\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_wookiee\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"wookiee\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"RRRAAARGH!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_wookiee\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"wookiee\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Utinni?\",\n      \"type\": [\n        \"greeting\",\n        \"reply\"\n      ],\n      \"language\": \"language_jawa\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"jawa\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"Ho ho ho! M'um m'aloo!\",\n      \"type\": [\n        \"greeting\",\n        \"reply\"\n      ],\n      \"language\": \"language_jawa\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"jawa\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"SOOGA! SOOGA!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_jawa\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"jawa\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"[Neutral beep-boop]\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_droid\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"droids\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"[Excited whistle-trill]\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_droid\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"droids\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"[Angry, discordant bleep]!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_droid\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"droids\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Yub nub?\",\n      \"type\": [\n        \"greeting\",\n        \"reply\"\n      ],\n      \"language\": \"language_ewok\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"ewok\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"Eechu-ta! Eechu-ta!\",\n      \"type\": [\n        \"greeting\",\n        \"reply\"\n      ],\n      \"language\": \"language_ewok\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"ewok\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"Glek! Glek!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_ewok\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"ewok\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Mesa just lookin'.\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_gungan\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gungan\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Hey-o, oke-day!\",\n      \"type\": [\n        \"greeting\",\n        \"reply\"\n      ],\n      \"language\": \"language_gungan\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gungan\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ]\n    },\n    {\n      \"text\": \"Yousa in big doo-doo dis time!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_gungan\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gungan\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ],\n      \"outcome\": \"combat\"\n    },\n    {\n      \"text\": \"Urh? Grunt.\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_gamorrean\",\n      \"attitude\": \"i1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gamorrean\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"Oink. Harr harr.\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_gamorrean\",\n      \"attitude\": \"h1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gamorrean\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"outcome\": \"end_dialogue\"\n    },\n    {\n      \"text\": \"GRAK! OORRRT!\",\n      \"type\": [\n        \"reply\",\n        \"response\"\n      ],\n      \"language\": \"language_gamorrean\",\n      \"attitude\": \"m1\",\n      \"from_faction\": [\n        \"aliens\"\n      ],\n      \"from_subgroup\": [\n        \"gamorrean\"\n      ],\n      \"to_faction\": [\n        \"any\"\n      ],\n      \"on_topic_received\": [\n        \"none\",\n        \"any\"\n      ],\n      \"style_tags\": [\n        \"challenge\"\n      ],\n      \"outcome\": \"combat\"\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\faction_attitudes.json",
      "originalSize": 438,
      "condensedSize": 438,
      "content": "{\n  \"_comment\": \"Defines the numerical thresholds for relationship attitudes. The system checks from HIGHEST threshold to LOWEST. The first threshold a score is GREATER THAN OR EQUAL TO is the attitude it gets. Score is 0 (friendly) to 100 (hostile).\",\n  \"attitudes\": [\n    {\n      \"name\": \"m1\",\n      \"threshold\": 75\n    },\n    {\n      \"name\": \"i1\",\n      \"threshold\": 25\n    },\n    {\n      \"name\": \"h1\",\n      \"threshold\": 0\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\faction_config.json",
      "originalSize": 6794,
      "condensedSize": 6794,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/faction_config.json \",\n  \"factions\": {\n    \"player_droid\": {\n      \"name\": \"Gonk Pope\",\n      \"homePosition\": {\n        \"x\": 55,\n        \"y\": 6\n      },\n      \"isStatic\": true,\n      \"mass\": 1,\n      \"elasticity\": 0.2,\n      \"homeRadius\": 0,\n      \"pushForces\": {\n        \"aliens\": {\n          \"strength\": 10,\n          \"radius\": 10\n        }\n      }\n    },\n    \"rebels\": {\n      \"name\": \"Rebels\",\n      \"homePosition\": {\n        \"x\": 90,\n        \"y\": 46\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.29,\n      \"homeRadius\": 3,\n      \"pushForces\": {\n        \"droids\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"clones\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"imperials\": {\n          \"strength\": 22,\n          \"radius\": 47\n        },\n        \"aliens\": {\n          \"strength\": 15,\n          \"radius\": 8\n        },\n        \"takers\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"sith\": {\n          \"strength\": 28,\n          \"radius\": 47\n        },\n        \"mandalorians\": {\n          \"strength\": 10,\n          \"radius\": 10\n        }\n      }\n    },\n    \"droids\": {\n      \"name\": \"Droids\",\n      \"homePosition\": {\n        \"x\": 40,\n        \"y\": 0\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.2,\n      \"homeRadius\": 3,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"clones\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"imperials\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"aliens\": {\n          \"strength\": 38,\n          \"radius\": 30\n        },\n        \"takers\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"sith\": {\n          \"radius\": 10,\n          \"strength\": 13\n        },\n        \"mandalorians\": {\n          \"strength\": 10,\n          \"radius\": 10\n        }\n      }\n    },\n    \"clones\": {\n      \"name\": \"Clones\",\n      \"homePosition\": {\n        \"x\": 40,\n        \"y\": 85\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.2,\n      \"homeRadius\": 3,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"droids\": {\n          \"strength\": 38,\n          \"radius\": 30\n        },\n        \"imperials\": {\n          \"strength\": 24,\n          \"radius\": 8\n        },\n        \"aliens\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"takers\": {\n          \"strength\": 45,\n          \"radius\": 17\n        },\n        \"sith\": {\n          \"strength\": 35,\n          \"radius\": 18\n        },\n        \"mandalorians\": {\n          \"strength\": 10,\n          \"radius\": 10\n        }\n      }\n    },\n    \"imperials\": {\n      \"name\": \"Imperials\",\n      \"homePosition\": {\n        \"x\": 8,\n        \"y\": 49\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.33,\n      \"homeRadius\": 2,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 22,\n          \"radius\": 49\n        },\n        \"droids\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"clones\": {\n          \"strength\": 24,\n          \"radius\": 8\n        },\n        \"aliens\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"mandalorians\": {\n          \"strength\": 56,\n          \"radius\": 15\n        },\n        \"takers\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"sith\": {\n          \"strength\": 15,\n          \"radius\": 7\n        }\n      }\n    },\n    \"aliens\": {\n      \"name\": \"Aliens\",\n      \"homePosition\": {\n        \"x\": 85,\n        \"y\": 70\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.2,\n      \"homeRadius\": 3,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 15,\n          \"radius\": 8\n        },\n        \"droids\": {\n          \"strength\": 38,\n          \"radius\": 30\n        },\n        \"clones\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"imperials\": {\n          \"strength\": 38,\n          \"radius\": 8\n        },\n        \"mandalorians\": {\n          \"strength\": 24,\n          \"radius\": 10\n        },\n        \"takers\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"sith\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"player_droid\": {\n          \"strength\": 10,\n          \"radius\": 10\n        }\n      }\n    },\n    \"mandalorians\": {\n      \"name\": \"Mandalorians\",\n      \"homePosition\": {\n        \"x\": 70,\n        \"y\": 85\n      },\n      \"isStatic\": false,\n      \"mass\": 1.2,\n      \"elasticity\": 0.22,\n      \"homeRadius\": 5,\n      \"pushForces\": {\n        \"imperials\": {\n          \"strength\": 56,\n          \"radius\": 15\n        },\n        \"sith\": {\n          \"strength\": 30,\n          \"radius\": 23\n        },\n        \"rebels\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"droids\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"clones\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"aliens\": {\n          \"strength\": 24,\n          \"radius\": 10\n        },\n        \"takers\": {\n          \"strength\": 26,\n          \"radius\": 14\n        }\n      }\n    },\n    \"takers\": {\n      \"name\": \"Takers\",\n      \"homePosition\": {\n        \"x\": 5,\n        \"y\": 100\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.2,\n      \"homeRadius\": 4,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"imperials\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"clones\": {\n          \"strength\": 45,\n          \"radius\": 17\n        },\n        \"droids\": {\n          \"strength\": 45,\n          \"radius\": 38\n        },\n        \"aliens\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"sith\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"mandalorians\": {\n          \"strength\": 26,\n          \"radius\": 14\n        }\n      }\n    },\n    \"sith\": {\n      \"name\": \"Sith\",\n      \"homePosition\": {\n        \"x\": 25,\n        \"y\": 30\n      },\n      \"isStatic\": false,\n      \"mass\": 1,\n      \"elasticity\": 0.1,\n      \"homeRadius\": 2,\n      \"pushForces\": {\n        \"rebels\": {\n          \"strength\": 28,\n          \"radius\": 60\n        },\n        \"clones\": {\n          \"strength\": 35,\n          \"radius\": 8\n        },\n        \"mandalorians\": {\n          \"strength\": 30,\n          \"radius\": 23\n        },\n        \"droids\": {\n          \"strength\": 13,\n          \"radius\": 10\n        },\n        \"takers\": {\n          \"strength\": 10,\n          \"radius\": 10\n        },\n        \"imperials\": {\n          \"strength\": 15,\n          \"radius\": 10\n        }\n      }\n    }\n  }\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\furniture.json",
      "originalSize": 984,
      "condensedSize": 984,
      "content": "{\n  \"_comment\": \"This file is a template to procedurally generate new levels.\",\n  \"__ahk_meta__\": {\n    \"hidden_command\": \"BROWSERFIREFOXHIDE\",\n    \"filename\": \"data/furniture.json\"\n  },\n  \"_config\": {\n    \"modelPath\": \"data/furniture/\",\n    \"texturePath\": \"data/furniture/\",\n    \"textureNamespace\": \"chronokillers_star_wars\"\n  },\n  \"models\": {\n    \"holotable\": {\n      \"file\": \"holo_table.json\",\n      \"scale\": 0.063\n    }\n  },\n  \"instances\": [\n    {\n      \"model\": \"holotable\",\n      \"position\": [\n        -10,\n        0,\n        0\n      ],\n      \"rotation\": [\n        0,\n        0,\n        0\n      ]\n    },\n    {\n      \"model\": \"holotable\",\n      \"position\": [\n        10,\n        0,\n        5\n      ],\n      \"rotation\": [\n        0,\n        45,\n        0\n      ],\n      \"scale\": 1.5\n    },\n    {\n      \"model\": \"holotable\",\n      \"position\": [\n        0,\n        0,\n        -10\n      ],\n      \"rotation\": [\n        0,\n        -90,\n        0\n      ],\n      \"scale\": 0.8\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\level_links.json",
      "originalSize": 101,
      "condensedSize": 101,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/level_links.json \",\n  \"L01-SP-A\": null,\n  \"L01-SP-B\": null\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\npc_names.json",
      "originalSize": 67652,
      "condensedSize": 3335,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/npc_names.json \",\n  \"droidF\": [\n    \"C\",\n    \"R2\",\n    \"R3\",\n    \"R4\",\n    \"R5\",\n    \"BB\",\n    \"C1\",\n    \"C2\",\n    \"K-2\",\n    \"L3\",\n    \"...(17 more items)\"\n  ],\n  \"droidL\": [\n    \"-3PO\",\n    \"-14\",\n    \"-70\",\n    \"-A4-D\",\n    \"-9D9\",\n    \"-1B\",\n    \"-6\",\n    \"-7\",\n    \"-13\",\n    \"-9\",\n    \"...(89 more items)\"\n  ],\n  \"stormtrooperF\": [\n    \"TK\",\n    \"FN\",\n    \"AD\",\n    \"FT\",\n    \"SE\",\n    \"BW\",\n    \"BJ\",\n    \"OH\",\n    \"GO\",\n    \"ME\",\n    \"...(25 more items)\"\n  ],\n  \"stormtrooperL\": [\n    \"-421\",\n    \"-450\",\n    \"-462\",\n    \"-2187\",\n    \"-2199\",\n    \"-2003\",\n    \"-2000\",\n    \"-2112\",\n    \"-1044\",\n    \"-1728\",\n    \"...(88 more items)\"\n  ],\n  \"wookieeF\": [\n    \"Chew\",\n    \"Gro\",\n    \"Rowr\",\n    \"Worr\",\n    \"Borr\",\n    \"Karr\",\n    \"Trro\",\n    \"Garr\",\n    \"Rrow\",\n    \"Carr\",\n    \"...(89 more items)\"\n  ],\n  \"wookieeL\": [\n    \"bacca\",\n    \"'wrr\",\n    \"rrw\",\n    \"'rrw\",\n    \"rrh\",\n    \"'rrh\",\n    \"rhh\",\n    \"'rhh\",\n    \"wrh\",\n    \"'wrh\",\n    \"...(87 more items)\"\n  ],\n  \"maleF\": [\n    \"A'rtan\",\n    \"A'Sharad\",\n    \"Aban\",\n    \"Abran\",\n    \"Abric\",\n    \"Ace\",\n    \"Adon-larr\",\n    \"Adrenas\",\n    \"Aero\",\n    \"Afyon\",\n    \"...(446 more items)\"\n  ],\n  \"maleL\": [\n    \" \",\n    \" Aabe\",\n    \" Abias\",\n    \" Ablund\",\n    \" Acib\",\n    \" Accu\",\n    \" Acharon\",\n    \" Achelon\",\n    \" Acoi\",\n    \" Adare\",\n    \"...(373 more items)\"\n  ],\n  \"gamorreanF\": [\n    \"Du\",\n    \"Dug\",\n    \"Dag\",\n    \"Dak\",\n    \"Dok\",\n    \"Dol\",\n    \"Dur\",\n    \"Duk\",\n    \"Dum\",\n    \"Duz\",\n    \"...(90 more items)\"\n  ],\n  \"gamorreanL\": [\n    \"rk\",\n    \"rkh\",\n    \"kr\",\n    \"zrk\",\n    \"gz\",\n    \"drk\",\n    \"sk\",\n    \"frk\",\n    \"vr\",\n    \"gth\",\n    \"...(79 more items)\"\n  ],\n  \"darthF\": [\n    \"Darth\",\n    \"Lord\",\n    \"Lady\",\n    \"Master\",\n    \"Empress\",\n    \"Supreme\",\n    \"Vizier\",\n    \"Regent\",\n    \"Sheev\",\n    \"Savage\",\n    \"...(89 more items)\"\n  ],\n  \"darthL\": [\n    \" Vader\",\n    \" Ren\",\n    \" Maul\",\n    \" Bane\",\n    \" Revan\",\n    \" Malak\",\n    \" Sion\",\n    \" Traya\",\n    \" Krayt\",\n    \" Zannah\",\n    \"...(87 more items)\"\n  ],\n  \"gunganF\": [\n    \"Jar-Jar\",\n    \"Rugor\",\n    \"Roos\",\n    \"Lyonie\",\n    \"Rish\",\n    \"Been\",\n    \"Teers\",\n    \"Lunker\",\n    \"Peppi\",\n    \"Augara\",\n    \"...(88 more items)\"\n  ],\n  \"gunganL\": [\n    \" Binks\",\n    \" Nass\",\n    \" Tarpals\",\n    \" Loo\",\n    \" Bow\",\n    \" Jowil\",\n    \" Pert\",\n    \" Ceel\",\n    \" Gallo\",\n    \" Rogoe\",\n    \"...(90 more items)\"\n  ],\n  \"humanoidF\": [\n    \"Xel\",\n    \"Haro\",\n    \"Keto\",\n    \"Dro\",\n    \"Zev\",\n    \"Yor\",\n    \"Jaxu\",\n    \"Nyra\",\n    \"Nyr\",\n    \"Veke\",\n    \"...(89 more items)\"\n  ],\n  \"humanoidL\": [\n    \" Leks\",\n    \" Duoc\",\n    \" Kuy\",\n    \" Ywro\",\n    \" Hyr\",\n    \" Jif\",\n    \" Pyi\",\n    \" Foawa\",\n    \" Xjyd\",\n    \" Mak\",\n    \"...(89 more items)\"\n  ],\n  \"mandoF\": [\n    \"Grogu\",\n    \"Adrik\",\n    \"Akaan\",\n    \"Akaavi\",\n    \"Alrich\",\n    \"Aran\",\n    \"Arla\",\n    \"Atin\",\n    \"Axe\",\n    \"Baltan\",\n    \"...(192 more items)\"\n  ],\n  \"mandoL\": [\n    \" Ori'dush\",\n    \" Aden\",\n    \" Alora\",\n    \" Amandra\",\n    \" Akaan\",\n    \" Akaanad\",\n    \" Akaanika\",\n    \" Alor'suli\",\n    \" Aran\",\n    \" Arani\",\n    \"...(100 more items)\"\n  ],\n  \"ewokF\": [\n    \"Arandee\",\n    \"Baga\",\n    \"Batcheela\",\n    \"Buzz\",\n    \"Chek\",\n    \"Chela\",\n    \"Chibook\",\n    \"Chim\",\n    \"Chirii\",\n    \"Chirloo\",\n    \"...(89 more items)\"\n  ],\n  \"...(more keys)\": \"11 additional properties\"\n}",
      "compressionRatio": 0.04929639921953527,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\npc_name_assigner.js",
      "originalSize": 3519,
      "condensedSize": 3519,
      "content": "// e:\\gonktest\\data\\npc_name_assigner.js\n\n/**\n * Assigns a final, randomized name to an NPC based on a clear hierarchy of rules.\n * This is the central authority for all NPC naming in the game.\n *\n * @param {object} npcData - An object containing NPC properties { name, faction, subgroup, baseType }.\n * @param {object} nameData - The full dataset from npc_names.json.\n * @returns {string} The final, generated name for the NPC.\n */\nfunction generateNpcName(npcData, nameData) {\n    // Priority 1: Manually set name in the editor.\n    // A placeholder name looks like \"factionF factionL\". We want to replace those.\n    // If the name does not look like a placeholder, use it.\n    if (npcData.name && npcData.name.trim().length > 0 && !/\\w+F \\w+L$/.test(npcData.name.trim())) {\n        return npcData.name.trim();\n    }\n\n    let nameKey = '';\n    const faction = (npcData.faction || '').toLowerCase();\n    const subgroup = (npcData.subgroup || '').toLowerCase();\n\n    // Handle subgroup aliases to ensure correct name list selection.\n    const subgroupMap = {\n        'human_female': 'female',\n        'human_male': 'male'\n    };\n    const effectiveSubgroup = subgroupMap[subgroup] || subgroup;\n\n    // Priority 2: Subgroup-based name.\n    // Check if a name list exists for the effective subgroup.\n    if (effectiveSubgroup && nameData[`${effectiveSubgroup}F`]) {\n        nameKey = effectiveSubgroup;\n    }\n    // Priority 3: Faction-based name (if subgroup naming fails or subgroup doesn't exist).\n    else if (faction) {\n        // First, try a direct mapping (e.g., faction 'droids' -> name key 'droids')\n        if (nameData[`${faction}F`]) {\n            nameKey = faction;\n        } else {\n            // If direct mapping fails, try special cases (e.g., faction 'imperials' -> name key 'stormtrooper')\n            const factionMap = {\n                'imperials': 'stormtrooper',\n                'rebels': 'male', // Default for rebels\n                'clones': 'clone',\n                'mandalorians': 'mando',\n                'sith': 'darth',\n                'takers': 'taker',\n                'aliens': 'humanoid', // Generic alien\n                'droids': 'droid'\n            };\n            const mappedKey = factionMap[faction];\n            if (mappedKey && nameData[`${mappedKey}F`]) {\n                nameKey = mappedKey;\n            }\n        }\n    }\n\n    // If we found a valid key, generate the name.\n    if (nameKey) {\n        const firstNames = nameData[`${nameKey}F`];\n        const lastNames = nameData[`${nameKey}L`] || [''];\n\n        if (!firstNames || firstNames.length === 0) {\n            const errorFaction = faction || subgroup || 'unknown';\n            return `ERR_${errorFaction.toUpperCase()}F ERR_${errorFaction.toUpperCase()}L`;\n        }\n\n        const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\n        const lastName = lastNames.length > 0 ? lastNames[Math.floor(Math.random() * lastNames.length)] : '';\n\n        // Categories that should not have a space between first and last name.\n        const noSpaceCategories = ['droid', 'wookiee', 'gamorrean', 'stormtrooper', 'taker'];\n        if (noSpaceCategories.includes(nameKey)) {\n            return `${firstName}${lastName.trim()}`;\n        } else {\n            return `${firstName} ${lastName.trim()}`.trim();\n        }\n    }\n\n    // Priority 4: Error name as a fallback.\n    const errorFaction = faction || 'unknown';\n    return `ERR_${errorFaction.toUpperCase()}F ERR_${errorFaction.toUpperCase()}L`;\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\data\\npc_weapons.json",
      "originalSize": 24935,
      "condensedSize": 3699,
      "content": "{\n  \"_comment\": \"Centralized configuration for all NPC-usable weapons. Non-listed weapons inherit category defaults. DPS balanced to 10 standard, 25 max.\",\n  \"_metadata_fileName_\": \"npc_weapons.json\",\n  \"_defaults\": {\n    \"categoryDefaults\": {\n      \"longarm\": \"...(truncated)\",\n      \"rifle\": \"...(truncated)\",\n      \"pistol\": \"...(truncated)\",\n      \"melee\": \"...(truncated)\",\n      \"saber\": \"...(truncated)\",\n      \"unique\": \"...(truncated)\"\n    }\n  },\n  \"long_a280c\": {\n    \"category\": \"longarm\",\n    \"drop_faction\": [\n      \"rebels\"\n    ],\n    \"tier_required\": 1,\n    \"drop_weight\": 30\n  },\n  \"long_crossbow\": {\n    \"category\": \"longarm\",\n    \"damage\": 18,\n    \"ammo_max\": 5,\n    \"attack_cooldown_mult\": 2.5,\n    \"technical_understanding\": 50,\n    \"weight\": 110,\n    \"bolt_speed_mult\": 0.7,\n    \"energy_type\": \"physical\",\n    \"bolt_color\": null,\n    \"drop_faction\": [\n      \"aliens\"\n    ],\n    \"tier_required\": 1,\n    \"drop_weight\": 20\n  },\n  \"long_ee3_mando\": {\n    \"category\": \"longarm\",\n    \"drop_faction\": [\n      \"mandalorians\"\n    ],\n    \"tier_required\": 1,\n    \"drop_weight\": 30\n  },\n  \"long_el16\": {\n    \"category\": \"longarm\"\n  },\n  \"long_f11d\": {\n    \"category\": \"longarm\",\n    \"drop_faction\": [\n      \"imperials\"\n    ],\n    \"tier_required\": 1,\n    \"drop_weight\": 30\n  },\n  \"long_f11d_phasma\": {\n    \"category\": \"longarm\",\n    \"bolt_color\": \"#ffaa00\",\n    \"technical_understanding\": 75,\n    \"weight\": 90,\n    \"drop_faction\": [\n      \"imperials\",\n      \"sith\"\n    ],\n    \"tier_required\": 1,\n    \"drop_weight\": 15\n  },\n  \"long_ionblaster\": {\n    \"category\": \"longarm\",\n    \"damage\": 8,\n    \"energy_type\": \"ion\",\n    \"bolt_color\": \"#00ccff\",\n    \"technical_understanding\": 70,\n    \"weight\": 95,\n    \"power_drain\": 0.4,\n    \"drop_weight\": 15\n  },\n  \"long_OC_lightgun\": {\n    \"category\": \"longarm\",\n    \"damage\": 14,\n    \"attack_cooldown_mult\": 0.8\n  },\n  \"long_spb50\": {\n    \"category\": \"longarm\"\n  },\n  \"long_stw48\": {\n    \"category\": \"longarm\"\n  },\n  \"long_tl50\": {\n    \"category\": \"longarm\"\n  },\n  \"long_z6\": {\n    \"category\": \"longarm\",\n    \"damage\": 15,\n    \"attack_cooldown_mult\": 0.5,\n    \"ammo_max\": 150,\n    \"weight\": 130,\n    \"technical_understanding\": 75,\n    \"power_drain\": 0.6,\n    \"drop_weight\": 10,\n    \"special_moves\": \"autofire\",\n    \"speed\": -0.005\n  },\n  \"long_z6custom\": {\n    \"category\": \"longarm\",\n    \"damage\": 15,\n    \"attack_cooldown_mult\": 0.5,\n    \"ammo_max\": 150,\n    \"weight\": 130,\n    \"technical_understanding\": 75,\n    \"power_drain\": 0.6,\n    \"drop_weight\": 10,\n    \"special_moves\": \"autofire\",\n    \"speed\": -0.005,\n    \"charm_defense\": 25\n  },\n  \"melee_amphistaff_vong\": {\n    \"category\": \"melee\",\n    \"technical_understanding\": 0,\n    \"weight\": 60,\n    \"damage\": 10,\n    \"energy_type\": \"venom\",\n    \"bolt_color\": \"#aaff00\",\n    \"power_drain\": 0.4,\n    \"drop_faction\": [\n      \"aliens\"\n    ],\n    \"drop_weight\": 20\n  },\n  \"melee_amphistaff_yuuzhanvong\": {\n    \"category\": \"melee\",\n    \"technical_understanding\": 0,\n    \"weight\": 60,\n    \"damage\": 10,\n    \"energy_type\": \"venom\",\n    \"bolt_color\": \"#aaff00\",\n    \"power_drain\": 0.4,\n    \"drop_faction\": [\n      \"aliens\"\n    ],\n    \"drop_weight\": 20\n  },\n  \"melee_axe_gamorrean\": {\n    \"category\": \"melee\",\n    \"damage\": 12,\n    \"weight\": 70,\n    \"power_drain\": 0.5,\n    \"drop_faction\": [\n      \"aliens\"\n    ],\n    \"drop_weight\": 20\n  },\n  \"melee_electrostaffdark_magnaguard\": {\n    \"category\": \"melee\",\n    \"damage\": 15,\n    \"weight\": 80,\n    \"technical_understanding\": 60,\n    \"energy_type\": \"electric\",\n    \"bolt_color\": \"#9966ff\",\n    \"power_drain\": 0.6,\n    \"drop_faction\": [\n      \"droids\"\n    ],\n    \"drop_weight\": 15,\n    \"special_moves\": \"disarm\"\n  },\n  \"...(more keys)\": \"84 additional properties\"\n}",
      "compressionRatio": 0.148345698816924,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\tab_faction_controls.js",
      "originalSize": 20865,
      "condensedSize": 222,
      "content": "// File: 289 lines condensed to 3 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE tab_faction_controls.js\r\nclass TabFactionControls {\r\n            // Symmetrical update for strength\r",
      "compressionRatio": 0.010639827462257369,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\data\\trivia_questions.json",
      "originalSize": 152803,
      "condensedSize": 4019,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/trivia_questions.json\",\n  \"genericWrongAnswers\": {\n    \"names\": [\n      \"Beru Lars\",\n      \"Arturito\",\n      \"Ello Asty\",\n      \"Carrie Fisher\",\n      \"Dak Ralter\",\n      \"Danz Borin\",\n      \"Matthew Wood\",\n      \"James Earl Jones\",\n      \"Richard Marquand\",\n      \"Chief Chirpa\",\n      \"...(133 more items)\"\n    ],\n    \"places\": [\n      \"Mos Eisley Cantina\",\n      \"Dantooine\",\n      \"Anoat\",\n      \"Norway\",\n      \"The Kessel Run\",\n      \"Tosche Station\",\n      \"The Sluis Sector and The Anoat Sector\",\n      \"D'Qar\",\n      \"Abafar\",\n      \"Agamar\",\n      \"...(125 more items)\"\n    ],\n    \"numbers\": [\n      \"Seven\",\n      \"Four (Episodes I - IV)\",\n      \"Approximately 2,002,795,192\",\n      \"IV\",\n      \"About one year\",\n      \"Over 6 million\",\n      \"Twenty\",\n      \"More than 20,000\",\n      \"120 kilometers\",\n      \"Three\",\n      \"...(53 more items)\"\n    ],\n    \"quotes\": [\n      \"'Obi Wan killed your father'\",\n      \"\\\"I have a bad feeling about this\\\"\",\n      \"\\\"Obi-Wan...there...is good in him. I know there is\\\"\",\n      \"\\\"May the Force be with you\\\"\",\n      \"\\\"Would it help if I got out and pushed?\\\"\",\n      \"\\\"There's always a bigger fish\\\"\",\n      \"\\\"The ability to speak does not make you intelligent\\\"\",\n      \"\\\"Ya-hoo!\\\"\",\n      \"\\\"No, I am your father\\\"\",\n      \"'If only you knew the power of the dark side.'\",\n      \"...(53 more items)\"\n    ],\n    \"other\": [\n      \"An exhaust tube\",\n      \"Star Wars: The Empire Strikes Back, released on the Atari 2600\",\n      \"Life Day\",\n      \"Jingle All the Way (1996)\",\n      \"High Jedi General\",\n      \"Revenge of the Jedi\",\n      \"Yellow\",\n      \"Kyber crystal\",\n      \"A monkey\",\n      \"The Jawa Sandcrawler\",\n      \"...(461 more items)\"\n    ]\n  },\n  \"loadingItems\": [\n    {\n      \"type\": \"trivia\",\n      \"category\": \"places\",\n      \"question\": \"What is Luke Skywalker's home planet?\",\n      \"correctAnswer\": \"Tatooine\",\n      \"cleverWrong\": \"Jakku\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"other\",\n      \"question\": \"What color is Mace Windu's lightsaber?\",\n      \"correctAnswer\": \"Purple\",\n      \"cleverWrong\": \"Yellow\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"names\",\n      \"question\": \"In The Rise of Skywalker, Rey is revealed to be the granddaughter of which Star Wars character?\",\n      \"correctAnswer\": \"Palpatine\",\n      \"cleverWrong\": \"Obi-Wan Kenobi\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"quotes\",\n      \"question\": \"What message does Princess Leia send to Obi-Wan Kenobi in A New Hope?\",\n      \"correctAnswer\": \"Help me, Obi-Wan Kenobi - you're my only hope\",\n      \"cleverWrong\": \"These are not the droids you're looking for\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"names\",\n      \"question\": \"Who built C-3PO?\",\n      \"correctAnswer\": \"Anakin Skywalker\",\n      \"cleverWrong\": \"The Jawas\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"places\",\n      \"question\": \"On which planet did Anakin Skywalker and Padme Amidala first meet?\",\n      \"correctAnswer\": \"Tatooine\",\n      \"cleverWrong\": \"Naboo\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"numbers\",\n      \"question\": \"Around how old is Yoda when he trains Luke Skywalker in The Empire Strikes Back?\",\n      \"correctAnswer\": \"900 years old\",\n      \"cleverWrong\": \"800 years old\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"names\",\n      \"question\": \"Which characters escape Jakku aboard the Millennium Falcon in The Force Awakens?\",\n      \"correctAnswer\": \"Rey, Finn and BB-8\",\n      \"cleverWrong\": \"Rey, Poe and BB-8\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"other\",\n      \"question\": \"What species is Chewbacca?\",\n      \"correctAnswer\": \"Wookiee\",\n      \"cleverWrong\": \"Ewok\"\n    },\n    {\n      \"type\": \"trivia\",\n      \"category\": \"names\",\n      \"question\": \"Who plays Obi-Wan Kenobi in the original Star Wars trilogy?\",\n      \"correctAnswer\": \"Alec Guinness\",\n      \"cleverWrong\": \"Ewan McGregor\"\n    },\n    \"...(562 more items)\"\n  ]\n}",
      "compressionRatio": 0.0263018396235676,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\weapons.json",
      "originalSize": 4055,
      "condensedSize": 4055,
      "content": "{\n  \"_comment\": \"BROWSERFIREFOXHIDE data/weapons.json\",\n  \"_defaults\": {\n    \"categoryDefaults\": {\n      \"pistol\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": -1.45,\n            \"y\": -16.74,\n            \"z\": 9.95\n          },\n          \"rotation\": {\n            \"x\": 1.543,\n            \"y\": -1.571,\n            \"z\": 0\n          },\n          \"scale\": 70,\n          \"planes\": {\n            \"dist\": 0.002,\n            \"yaw\": 0.28,\n            \"pitch\": 0.1\n          }\n        }\n      },\n      \"rifle\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": -1.45,\n            \"y\": -16.74,\n            \"z\": 9.95\n          },\n          \"rotation\": {\n            \"x\": 1.543,\n            \"y\": -1.571,\n            \"z\": 0\n          },\n          \"scale\": 70,\n          \"planes\": {\n            \"dist\": 0.003,\n            \"yaw\": 0.55,\n            \"pitch\": 0.6\n          }\n        }\n      },\n      \"melee\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": 0.03,\n            \"y\": -20.65,\n            \"z\": 9.94\n          },\n          \"rotation\": {\n            \"x\": 1.723,\n            \"y\": -1.476,\n            \"z\": -0.042\n          },\n          \"scale\": 123,\n          \"planes\": {\n            \"dist\": 0,\n            \"yaw\": 0.6,\n            \"pitch\": 0.8\n          }\n        }\n      },\n      \"saber\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": 5.41,\n            \"y\": -7.61,\n            \"z\": 17.67\n          },\n          \"rotation\": {\n            \"x\": 1.543,\n            \"y\": 0.464,\n            \"z\": 0.442\n          },\n          \"scale\": 70,\n          \"planes\": {\n            \"dist\": 0,\n            \"yaw\": 0.23,\n            \"pitch\": 0.35\n          }\n        },\n        \"glow\": {\n          \"color\": \"#ff0000\",\n          \"intensity\": 2,\n          \"distance\": 4,\n          \"decay\": 2\n        }\n      },\n      \"long\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": -1.45,\n            \"y\": -16.74,\n            \"z\": 9.95\n          },\n          \"rotation\": {\n            \"x\": 1.543,\n            \"y\": -1.571,\n            \"z\": 0\n          },\n          \"scale\": 70,\n          \"planes\": {\n            \"dist\": 0.003,\n            \"yaw\": 0.55,\n            \"pitch\": 0.6\n          }\n        }\n      },\n      \"unique\": {\n        \"offsets\": {\n          \"position\": {\n            \"x\": -1.02,\n            \"y\": -8.7,\n            \"z\": 1.18\n          },\n          \"rotation\": {\n            \"x\": 1.597,\n            \"y\": -1.571,\n            \"z\": 0\n          },\n          \"scale\": 73,\n          \"planes\": {\n            \"dist\": 0.003,\n            \"yaw\": 0.5,\n            \"pitch\": 0\n          }\n        }\n      }\n    }\n  },\n  \"pistol_dl44_han\": {\n    \"technicalRequirement\": 30\n  },\n  \"long_z6custom\": {\n    \"category\": \"long\",\n    \"technicalRequirement\": 75\n  },\n  \"long_f11d_phasma\": {\n    \"category\": \"long\",\n    \"technicalRequirement\": 75\n  },\n  \"long_z6\": {\n    \"category\": \"long\",\n    \"technicalRequirement\": 75\n  },\n  \"unique_sonicgrenade\": {\n    \"category\": \"unique\",\n    \"technicalRequirement\": 60,\n    \"offsets\": {\n      \"position\": {\n        \"x\": -0.84,\n        \"y\": -7.8,\n        \"z\": 7.01\n      },\n      \"rotation\": {\n        \"x\": 0.553,\n        \"y\": -1.365,\n        \"z\": 0\n      },\n      \"scale\": 53,\n      \"planes\": {\n        \"dist\": 0.002,\n        \"yaw\": 0.15,\n        \"pitch\": 0\n      }\n    }\n  },\n  \"rifle_fork\": {\n    \"category\": \"rifle\",\n    \"technicalRequirement\": 5\n  },\n  \"saber_red\": {\n    \"category\": \"saber\",\n    \"glow\": {\n      \"color\": \"#ff0000\",\n      \"intensity\": 2.5,\n      \"distance\": 6\n    },\n    \"technicalRequirement\": 50,\n    \"forceSensitivityRequirement\": 70\n  },\n  \"saber_blue\": {\n    \"category\": \"saber\",\n    \"glow\": {\n      \"color\": \"#0088ff\",\n      \"intensity\": 2.5,\n      \"distance\": 6\n    },\n    \"technicalRequirement\": 50,\n    \"forceSensitivityRequirement\": 70\n  },\n  \"saber_green\": {\n    \"category\": \"saber\",\n    \"glow\": {\n      \"color\": \"#00ff44\",\n      \"intensity\": 2.5,\n      \"distance\": 6\n    },\n    \"technicalRequirement\": 50,\n    \"forceSensitivityRequirement\": 70\n  }\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\asset_loaders.js",
      "originalSize": 22400,
      "condensedSize": 2645,
      "content": "// File: 506 lines condensed to 29 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE asset_loaders.js\r\n// update: Corrected skybox asset lookup to properly handle keys with file extensions, fixing a texture loading error.\r\n// update: The texture loader now properly encodes URIs to handle special characters (like spaces) in filenames, fixing multiple 404 errors.\r\n// update: Added new module and health pickup paths for preloading.\r\n// update: Corrected the path for the Gaffi Stick asset.\r\n// update: Fixed bug in getNpcsByCriteria where `subgroup: 'all'` was incorrectly excluding NPCs. It now correctly includes all NPCs matching the threat and macroCategory.\r\n// update: Ensured baseType, faction, and macroCategory are correctly cascaded from the NPC group onto individual NPC configs to fix random NPC spawning based on subgroup criteria.\r\n// update: Corrected Zapper weapon asset paths to include the 'gmelee_zapper' subdirectory during preloading, fixing the texture loading failure.\r\n// fix: Removed redundant loading of gmelee_zapper.png base file to fix a persistent 404 error and corrected the file name reference for Clones JSON loading to '2_clones.json'.\r\n// fix: Re-added the missing loadFactionAttitudes method to resolve the game-breaking initialization error.\r\nclass AssetManager {\r\n        // This mapping logic translates a subgroup string into a check against an NPC's config.\r\n            // Check threat level and macro-category\r\n                // Check subgroup if specified\r\n        // Overhaul to load all character JSONs, same as the editor's asset manager\r\n                // FIX: Log error clearly and correctly reference the file name as a JSON file.\r\n    // New method to populate the npcIcons map with config data for the game\r\n    // ADDED: Discover fixed pickup/module textures\r\n        // FIX: Use the new directory structure. Hilts are weapons, blades are not.\r\n        // This prevents scanning 'saberbladeunderlayer' and causing 404s.\r\n            // ADDED: Pickup textures\r\n            // Preload the new glow texture\r\n            // Preload the saber blade texture since it's not discovered as a weapon\r\n        // Preload all pamphlet textures\r\n        // ADDED: Zapper animation frames (explicitly construct the correct paths)\r\n        // FIX: Remove the redundant path loading, which causes the persistent 404\r\n        // Initialize the shared material now that the texture is loaded\r\n                        // Load NPC skins immediately with their full key to avoid conflicts.\r\n        // Check for common prefix in pickup/module paths to extract a clean key\r",
      "compressionRatio": 0.11808035714285714,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\audio_system.js",
      "originalSize": 21408,
      "condensedSize": 1314,
      "content": "// File: 523 lines condensed to 19 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE audio_system.js\r\nclass AudioSystem {\r\n            // NOTE: Weapon-specific sounds. The key (e.g., 'ee3') can be derived from a weapon's filename\r\n            // (e.g., 'glong_ee3_mando' or 'long_ee3_mando') to play the correct sound for different visual assets.\r\n        // ADDED: Wookiee sounds\r\n             // ADDED: Pickup sound\r\n        // Fade out with the song title\r\n            // After fade out, set display to none so it doesn't hold space\r\n    // --- Sound Effect Methods ---\r\n    // --- Categorized Sound Methods ---\r\n            // console.warn(`Sound list not found or is empty: ${listName}`);\r\n                // Check for weapon-specific sound overrides first\r\n            // console.warn(`Sound list not found or is empty: ${listName}`);\r\n        // This sound is non-positional, so we can't use playSound directly as it uses static defs.\r\n        // We'll load it and play it as a simple THREE.Audio\r\n        // For now, just play a random sound from the maledeath category\r\n        // This is non-positional\r\n        // This sound is non-positional, so we can't use playSound directly as it uses static defs.\r\n        // We'll load it and play it as a simple THREE.Audio\r",
      "compressionRatio": 0.06137892376681614,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\character_config.js",
      "originalSize": 7084,
      "condensedSize": 7084,
      "content": "// BROWSERFIREFOXHIDE character_config.js\r\n// update: Added a 'perceptionRadius' stat to all NPC types to control their maximum vision range. Stormtroopers have been given a shorter radius as an example.\r\n\r\nwindow.CHARACTER_CONFIG = {\r\n  // --- ALIENS ---\r\n  humanoid: {\r\n    name: \"Default Humanoid\",\r\n    minecraftModel: \"humanoid\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n      meleeDamage: 5, collisionRadius: 0.5, weight: 80, aggro: 0.5, accuracy: 60\r\n    }\r\n  },\r\n  gamorrean: {\r\n    name: \"Gamorrean\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 1.3, scaleY: 0.85, scaleZ: 1.6,\r\n    stats: {\r\n        health: 50, speed: 0.0250, attackRange: 1.6, perceptionRadius: 20, attackCooldown: 3.0,\r\n        meleeDamage: 7, collisionRadius: 0.6, weight: 110, aggro: 0.7, accuracy: 65\r\n    }\r\n  },\r\n  gungan: {\r\n    name: \"Gungan\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 1.1, scaleY: 2.25, scaleZ: 1.1,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n      meleeDamage: 3, collisionRadius: 0.5, weight: 70, aggro: 0.3, accuracy: 60\r\n    }\r\n  },\r\n   wookiee: {\r\n    name: \"Wookiee\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 1.1, scaleY: 1.25, scaleZ: 1.1,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.8, perceptionRadius: 30, attackCooldown: 3.0,\r\n      meleeDamage: 8, collisionRadius: 0.6, weight: 120, aggro: 0.5, accuracy: 85\r\n    }\r\n  },\r\n  moncalamari: {\r\n    name: \"Mon Calamari\",\r\n    minecraftModel: \"humanoid\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n      meleeDamage: 4, collisionRadius: 0.5, weight: 75, aggro: 0.4, accuracy: 60\r\n    }\r\n  },\r\n  halfpint: {\r\n    name: \"Half-Pint\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 0.6, scaleY: 0.6, scaleZ: 0.7,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.2, perceptionRadius: 20, attackCooldown: 3.0,\r\n      meleeDamage: 2, collisionRadius: 0.3, weight: 30, aggro: 0.2, accuracy: 60\r\n    }\r\n  },\r\n  quarterpint: {\r\n    name: \"Quarter-Pint\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 0.3, scaleY: 0.3, scaleZ: 0.4,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 18, attackCooldown: 3.0,\r\n      meleeDamage: 1, collisionRadius: 0.2, weight: 10, aggro: 0.1, accuracy: 60\r\n    }\r\n  },\r\n  hutt: {\r\n    name: \"Hutt\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 2.5, scaleY: 1.5, scaleZ: 5.5,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 2.0, perceptionRadius: 22, attackCooldown: 3.0,\r\n      meleeDamage: 10, collisionRadius: 1.2, weight: 500, aggro: 0.6, accuracy: 60\r\n    }\r\n  },\r\n\r\n  // --- HUMANS & TROOPERS ---\r\n  civilians: {\r\n      name: \"Civilian\",\r\n      minecraftModel: \"humanoid\",\r\n      stats: {\r\n          health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n          meleeDamage: 4, collisionRadius: 0.5, weight: 85, aggro: 0.4, accuracy: 60\r\n      }\r\n  },\r\n  human_male: {\r\n      name: \"Human Male\",\r\n      minecraftModel: \"humanoid\",\r\n      stats: {\r\n          health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n          meleeDamage: 4, collisionRadius: 0.5, weight: 85, aggro: 0.4, accuracy: 60\r\n      }\r\n  },\r\n  human_female: {\r\n      name: \"Human Female\",\r\n      minecraftModel: \"humanoid\",\r\n      scaleX: 1, scaleY: 1, scaleZ: 1,\r\n      stats: {\r\n          health: 50, speed: 0.0250, attackRange: 1.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n          meleeDamage: 3, collisionRadius: 0.45, weight: 70, aggro: 0.4, accuracy: 60\r\n      }\r\n  },\r\n  clone: {\r\n    name: \"Clone Trooper\",\r\n    minecraftModel: \"humanoid\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 15.0, perceptionRadius: 30, attackCooldown: 3.0,\r\n      meleeDamage: 5, collisionRadius: 0.5, weight: 80, aggro: 0.5, accuracy: 70\r\n    }\r\n  },\r\n  mandalorian: {\r\n    name: \"Mandalorian\",\r\n    minecraftModel: \"humanoid\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 15.0, perceptionRadius: 35, attackCooldown: 3.0,\r\n      meleeDamage: 6, collisionRadius: 0.5, weight: 82, aggro: 0.7, accuracy: 85\r\n    }\r\n  },\r\n  stormtrooper: {\r\n    name: \"Stormtrooper\",\r\n    minecraftModel: \"humanoid\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 15.0, perceptionRadius: 15, attackCooldown: 3.0,\r\n      meleeDamage: 5, collisionRadius: 0.5, weight: 80, aggro: 0.6, accuracy: 40\r\n    }\r\n  },\r\n  darth: {\r\n    name: \"Sith Lord\",\r\n    minecraftModel: \"humanoid\",\r\n     stats: {\r\n      health: 100, speed: 0.0250, attackRange: 2.0, perceptionRadius: 35, attackCooldown: 3.0,\r\n      meleeDamage: 10, collisionRadius: 0.5, weight: 85, aggro: 0.8, accuracy: 95\r\n    }\r\n  },\r\n\r\n  // --- DROIDS ---\r\n  droid_humanoid: {\r\n    name: \"Humanoid Droid\",\r\n    minecraftModel: \"humanoid\",\r\n    scaleX: 0.8, scaleZ: 0.8,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 14.0, perceptionRadius: 28, attackCooldown: 3.0,\r\n      meleeDamage: 4, collisionRadius: 0.4, weight: 100, aggro: 0.5, accuracy: 80\r\n    }\r\n  },\r\n  r2d2: {\r\n    name: \"R2 Unit\",\r\n    minecraftModel: \"humanoid\", // Needs custom model\r\n    scale: 0.6,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 20, attackCooldown: 3.0,\r\n      meleeDamage: 2, collisionRadius: 0.4, weight: 90, aggro: 0.1, accuracy: 80\r\n    }\r\n  },\r\n  r5d4: {\r\n      name: \"R5 Unit\",\r\n      minecraftModel: \"humanoid\", // Needs custom model\r\n      scale: 0.6,\r\n      stats: { health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 20, meleeDamage: 2, attackCooldown: 3.0, weight: 90, aggro: 0.1, accuracy: 80 }\r\n  },\r\n  bb8: {\r\n    name: \"BB Unit\",\r\n    minecraftModel: \"slime\",\r\n    scale: 0.5,\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 22, attackCooldown: 3.0,\r\n      meleeDamage: 1, collisionRadius: 0.3, weight: 30, aggro: 0.1, accuracy: 80\r\n    }\r\n  },\r\n  gonk: {\r\n    name: \"Gonk Droid\",\r\n    minecraftModel: \"slime\",\r\n    scale: 0.8,\r\n    stats: { health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 15, meleeDamage: 1, attackCooldown: 3.0, weight: 150, aggro: 0.0, accuracy: 80 }\r\n  },\r\n  mousedroid: {\r\n      name: \"Mouse Droid\",\r\n      minecraftModel: \"slime\", \r\n      scale: 0.4,\r\n      stats: { health: 50, speed: 0.0250, attackRange: 1.0, perceptionRadius: 18, meleeDamage: 1, attackCooldown: 3.0, weight: 20, aggro: 0.1, accuracy: 80 }\r\n  },\r\n   probe: {\r\n      name: \"Probe Droid\",\r\n      minecraftModel: \"humanoid\", // Needs custom spider model\r\n      stats: { health: 50, speed: 0.0250, attackRange: 12.0, perceptionRadius: 40, attackCooldown: 3.0, weight: 50, aggro: 0.5, accuracy: 80 }\r\n  },\r\n  irongolem: {\r\n    name: \"Large Droid\",\r\n    minecraftModel: \"irongolem\",\r\n    stats: {\r\n      health: 50, speed: 0.0250, attackRange: 2.5, perceptionRadius: 25, attackCooldown: 3.0,\r\n      meleeDamage: 15, collisionRadius: 0.8, weight: 400, aggro: 0.8, accuracy: 80\r\n    }\r\n  },\r\n};",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\conversation_controller.js",
      "originalSize": 29667,
      "condensedSize": 2024,
      "content": "// File: 589 lines condensed to 33 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE conversation_controller.js\nclass ConversationController {\n        // If the target is an ally, use their original faction for the attitude check.\n        // NEW: Initiate social check at the start\n        // Highlight the initiator (NPC) with the rim shader.\n            // Switch highlights\n            // Hide the initiator's pointer when the target starts replying.\n                // Switch highlights back to initiator\n                // Hide the target's pointer when the initiator responds.\n                // FIX: Restore the missing calls to log and show the final phrase.\n        // A conversation is NOT interrupted if the NPCs are conversing with each other.\n        // It IS interrupted if they are dead, aggro, or doing something other than idling/conversing.\n        // Allies can be in a 'FOLLOWING' state and still converse.\n        // Use original faction for allies to determine their \"language\" or dialogue style.\n            // Fallback to \"none\" topic\n        // NEW: Fallback to social check\n                // Handled in performSocialCheck\n                // Handled in performSocialCheck\n                // Peacefully end conversation\n                        // Also aggro remaining allies\n        // if (push_force !== 0 && window.game.factionManager) {\n        //     window.game.factionManager.applyFactionPhysics(target_faction_name, 'player_droid', push_force);\n        // }\n        // TODO: Implement faction nudge logic\n        // Add \"NPC\" or \"Ally\" to the display name\n        // Play audio immediately\n        // Delay showing the text box\n        // Wookiees use .wav files for their dialogue.\n        // NEW: Handle rebels who are human\n        // Map baseType to the known conversation sound directories\n            // Droids are a bit scattered\n                // Final fallback for generic aliens, droids, etc.\n                // Restore the original ring color",
      "compressionRatio": 0.0682239525398591,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\conversation_logger.js",
      "originalSize": 5548,
      "condensedSize": 5548,
      "content": "// BROWSERFIREFOXHIDE conversation_logger.js\r\n\r\nclass ConversationLogger {\r\n    constructor() {\r\n        this.logStyle = 'background: #111; color: #aaeebb;';\r\n        this.headerStyle = 'background: #111; color: #aaffaa; font-weight: bold; font-size: 1.1em;';\r\n        this.factionStyle = 'background: #111; color: #88ddff;';\r\n        this.errorStyle = 'background: #111; color: #ff8888; font-weight: bold;';\r\n    }\r\n\r\n    start(initiator, target, attitude) {\r\n        console.groupCollapsed(`%cConversation Started: ${initiator.name} & ${target.name}`, this.headerStyle);\r\n        console.log(`%cInitiator: ${initiator.name} (Faction: ${initiator.faction}, Health: ${initiator.health}/${initiator.maxHealth})`, initiator.isAlly ? this.factionStyle : this.logStyle);\r\n        console.log(`%cTarget: ${target.name} (Faction: ${target.isAlly ? target.originalFaction : target.faction}, Health: ${target.health}/${target.maxHealth})`, target.isAlly ? this.factionStyle : this.logStyle);\r\n        console.log(`%cInitial Attitude: ${attitude}`, this.logStyle);\r\n        console.groupEnd();\r\n    }\r\n\r\n    phrase(speaker, phrase, reason) {\r\n        console.groupCollapsed(`%cPhrase Chosen: ${speaker.name}`, this.logStyle);\r\n        console.log(`%cText: \"${phrase.text}\"`, this.logStyle);\r\n        console.log(`%cType: ${phrase.type}, Attitude: ${phrase.attitude}, Language: ${phrase.language}, Topic: ${phrase.topic || 'none'}`, this.logStyle);\r\n        console.log(`%cReason: ${reason}`, this.logStyle);\r\n        console.groupEnd();\r\n    }\r\n\r\n    noPhraseFound(speaker, type, attitude, topic) {\r\n        console.groupCollapsed(`%cNo Phrase Found for ${speaker.name}`, this.errorStyle);\r\n        console.log(`%cType: ${type}`, this.logStyle);\r\n        console.log(`%cAttitude: ${attitude}`, this.logStyle);\r\n        console.log(`%cTopic Received: ${topic}`, this.logStyle);\r\n        console.log(`%cSpeaker Faction: ${speaker.isAlly ? speaker.originalFaction : speaker.faction}`, this.logStyle);\r\n        console.log(`%cSpeaker Language: ${speaker.config.language || \"language_basic\"}`, this.logStyle);\r\n        console.groupEnd();\r\n    }\r\n\r\n    interrupted(npc1, npc2) {\r\n        console.groupCollapsed('%cConversation Interrupted', this.errorStyle);\r\n        if (window.game.state.isPaused) console.log('%cReason: Game is paused.', this.errorStyle);\r\n        if (npc1) console.log(`%c${npc1.name} state: ${npc1.currentState}, isDead: ${npc1.isDead}`, this.logStyle);\r\n        if (npc2) console.log(`%c${npc2.name} state: ${npc2.currentState}, isDead: ${npc2.isDead}`, this.logStyle);\r\n        console.groupEnd();\r\n    }\r\n\r\n    outcome(outcome, value, initiator, target) {\r\n        console.groupCollapsed(`%cConversation Outcome: ${outcome}`, this.factionStyle);\r\n        switch (outcome) {\r\n            case 'relation_change':\r\n                console.log(`%cFaction relationship between ${initiator.faction} and ${target.isAlly ? target.originalFaction : target.faction} changed by ${value}.`, this.factionStyle);\r\n                break;\r\n            case 'push_faction_topic':\r\n                console.log(`%c${initiator.faction} and ${target.isAlly ? target.originalFaction : target.faction} relationship with ${value.target_faction} changed by ${value.change}.`, this.factionStyle);\r\n                break;\r\n            case 'combat':\r\n                console.log(`%c${initiator.name} is now hostile to ${target.name}.`, this.errorStyle);\r\n                break;\r\n            case 'end_dialogue':\r\n                console.log(`%cConversation ended peacefully.`, this.factionStyle);\r\n                break;\r\n            default:\r\n                console.log(`%cOutcome: ${outcome}, Value: ${JSON.stringify(value)}`, this.factionStyle);\r\n        }\r\n        console.groupEnd();\r\n    }\r\n\r\n    socialCheck(details) {\r\n        console.groupCollapsed('%cSocial Check Details', this.factionStyle);\r\n        console.log(`%cAttacker: ${details.initiator.name} (${details.offense_label}: ${details.attack_stat} + ${details.attacker_roll.toFixed(0)} = ${details.attacker_total.toFixed(0)})`, this.logStyle);\r\n        console.log(`%cDefender: ${details.target.name} (${details.defense_label}: ${details.defender_stat} + ${details.defender_roll.toFixed(0)} = ${details.defender_total.toFixed(0)})`, this.logStyle);\r\n        console.log(`%cDifferential: ${details.differential.toFixed(0)} -> Outcome: ${details.outcome_tier}`, this.factionStyle);\r\n        if (details.push_force !== 0) {\r\n            console.log(`%cFaction Push Force: ${details.push_force.toFixed(2)} applied to ${details.target_faction_name}`, this.factionStyle);\r\n        }\r\n        if (details.outcome_tier === 'h4') {\r\n            console.log(`%cPermanent Effect: ${details.target_faction_name} faction shifted 1 point towards 'gonk'.`, this.factionStyle);\r\n            console.log(`%cStatus Effect: ${details.target.name} is now a 'friend'.`, this.factionStyle);\r\n        }\r\n        if (details.outcome_tier === 'm4') {\r\n            console.log(`%cPermanent Effect: ${details.target_faction_name} and ${details.initiator_faction_name} factions shifted 1 point away from 'gonk'.`, this.factionStyle);\r\n            if (details.initiator.isAlly) {\r\n                console.log(`%cStatus Effect: Ally ${details.initiator.name} has deserted and is now hostile.`, this.errorStyle);\r\n            }\r\n        }\r\n        console.groupEnd();\r\n    }\r\n\r\n    end() {\r\n        console.log('%c--- Conversation Ended ---', this.headerStyle);\r\n    }\r\n}\r\n\r\nwindow.conversationLogger = new ConversationLogger();",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\conversation_ui_manager.js",
      "originalSize": 14397,
      "condensedSize": 687,
      "content": "// File: 339 lines condensed to 9 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE conversation_ui_manager.js\nclass ConversationUIManager {\n        // Also hide the SVG container when the conversation ends\n        // Ensure SVG container is visible if the main container is\n                // Only draw pointers for the first two conversation slots (greeting and reply).\n                    // Explicitly hide the pointer for the third slot (response).\n        // NEW: Guard against invalid speaker meshes\n        // Define pointer styles based on whether it's an ally or not.\n        // Calculate the base of the triangle, clamped to the max width",
      "compressionRatio": 0.04771827464055012,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\editor.js",
      "originalSize": 72359,
      "condensedSize": 1420,
      "content": "// File: 1498 lines condensed to 18 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE editor.js\r\n// update: Removed the fetch call for the deprecated `level_templatesdotjson` to prevent console warnings on startup.\r\n// update: The editor's `placeItem` function now correctly reads the `soundSet` property from the asset manager and saves it to the NPC's data in the level file.\r\n// update: Corrected name generation logic to prioritize macroCategory and handle case differences.\r\n// update: Removed name generation call from placeItem. Editor now uses placeholders.\r\nclass LevelEditor {\r\n        // this.nameData is now managed by EditorAssetManager\r\n    // This function remains in the editor UI for placeholder generation\r\n        // Prioritize macroCategory for name type\r\n        // Mapping for Name Lists (same as in npc_behavior.js)\r\n        // Special case for Wookiee name placeholders\r\n        // Return placeholder string\r\n        // If placing a random NPC, the brush is already the itemData\r\n                // Handle random_npc brush type\r\n        // Clone surrounding walls/overlays\r\n        // Tier 1: Always check the active layer first. If something is there, select it.\r\n        // Tier 2: If the active layer is empty at this spot, find all items and prioritize interactive ones.\r\n        // Return the important item if found, otherwise return the topmost item.\r",
      "compressionRatio": 0.019624372918365374,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\editor_ui_and_assets.js",
      "originalSize": 68409,
      "condensedSize": 2837,
      "content": "// File: 1188 lines condensed to 39 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE editor_ui_and_assets.js\n// update: The asset manager now correctly reads and stores the `soundSet` property from charactersdotjson, fixing the NPC hurt sound data pipeline.\n// update: Rewrote the skybox palette UI to use a clearer \"None/Static/Animated\" selection method.\nclass EditorAssetManager {\n                // Fetch as text first to strip out comments (lines starting with #)\n                // Attempt to fix unterminated strings, a common manual JSON editing error.\n                // Add the main character groups, skipping special keys\n        // Load name data here to make it globally available\n            // The JSON file has a _comment key, which should be removed.\n        // Load NPC weapon data\n        // FIX: Scan all subdirectories within NPConlyweapons to correctly discover all weapon assets.\n                        // --- Start of Data Consolidation ---\n                        // Combine global, base type, and individual texture properties\n                            // Ensure critical properties are set\n                        // --- End of Data Consolidation ---\nclass EditorUI {\n        // This is a global reference for the asset manager to call\n        // Handle random NPC placeholders\n            // Default name generation fix\n            // FIX: Prioritize macroCategory, as baseType can sometimes be the same string (e.g. \"clone\")\n            // and overwrite the intended category. This is the root cause of the editor naming bug.\n            // Generate inputs for all properties, starting with common ones.\n            // Hide the weapon group for now, it will be populated below\n            // Populate default weapon display\n            // Populate override weapon dropdown\n            // Add all NPC weapons to the dropdown\n            // Set current selection\n                // Check if the current weapon is one of the available paths\n                    // If the weapon is set but not in the list (e.g., a custom weapon or old path),\n                    // try to match by filename. If still not found, default to 'none'.\n            // Filter out properties we don't want to show in the editor, including the 'weapon' property now handled by the dedicated fields.\n            // Generate inputs for all other properties\n        // If not an NPC, hide the weapon group\n                        // Only save the property if it's not empty or is a number\n                // Handle the new weapon override dropdown\n        // Hide the weapon group when the panel is hidden\n                    // Add an explicit 'none' entry. The game's createSkybox function\n                    // will see the null key and correctly remove the skybox.\n        // Set initial state",
      "compressionRatio": 0.04147115145667968,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\environment_and_physics.js",
      "originalSize": 62585,
      "condensedSize": 2141,
      "content": "// File: 950 lines condensed to 31 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE environment_and_physics.js\r\n// update: Corrected TypeError by changing playerSphere.distanceTo(pickup.mesh.position) to playerSphere.center.distanceTo(pickup.mesh.position) as THREE.Sphere has no direct distanceTo method.\r\n// update: The `createSkybox` function now explicitly checks for a null or empty key, ensuring the \"None\" option in the editor correctly removes the skybox.\r\n// update: Replaced performance-intensive PointLights on blaster bolts with billboarded glow sprites for significant optimization in large battles.\r\n// --- OBB UTILITY CLASS (EMBEDDED TO FIX CRASH) ---\r\n    class OBB {\r\n// --- END OF EMBEDDED OBB CLASS ---\r\n// --- BLASTER BOLT GLOBALS (OPTIMIZATION) ---\r\n// --- COLLISION CONSTANTS ---\r\nclass LevelRenderer {\r\n    // This function remains in the editor UI for placeholder generation\r\n        // Prioritize macroCategory for name type\r\n        // Mapping for Name Lists (same as in npc_behavior.js)\r\n        // Return placeholder string\r\n        // Explicitly handle \"None\" selection\r\n                // Prioritize the instance-specific weapon property from the level data.\r\n                // Fallback to the default_weapon from the character config (e.g., 1_aliens.json).\r\nclass Door {\r\nclass Dock extends Door {\r\nclass PhysicsSystem {\r\n            // For OBB, we create a box and apply the mesh's world matrix to it.\r\n                // Check if any parent object corresponds to an active wall collider\r\n            // ADDED: Ledge detection logic for NPCs\r\n            // --- Ground/Ceiling Collision for Pamphlets ---\r\n            // --- Wall Collision ---\r\n            // --- Entity Collision ---\r\n                // --- Friendly Fire Checks ---\r\n                    // Broadphase: Check against the NPC's single bounding sphere first.\r\n                        // Narrowphase: If broadphase passes, check individual hitboxes.\r\n        // ADDED: Pickup collision check (Fixes TypeError by using .center)\r\n            // FIX: Use playerSphere.center.distanceTo(pickup.mesh.position)\r",
      "compressionRatio": 0.03420947511384517,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\faction_avatar_manager.js",
      "originalSize": 12705,
      "condensedSize": 1573,
      "content": "// File: 263 lines condensed to 22 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE faction_avatar_manager.js\r\n// update: Integrated the Mandalorian faction into the avatar system.\r\nclass FactionAvatarManager {\r\n        // Dynamically display any faction that has avatars, except for the player.\r\n        // Create avatar elements in the DOM\r\n                // Set text color, with special case for black borders (like Imperials)\r\n        // Get all subdirectories in the factions folder\r\n                // Fetch only image files, not subdirectories\r\n        // FIX: The function was not returning the list of discovered factions.\r\n            // Set a short nextAnimTime to prevent long waits after the special animation\r\n        // If desired state doesn't exist, try idle states\r\n        // --- Sort avatars based on relationship ---\r\n            // FIX: Use CSS order property to re-sort without flickering.\r\n            // Update glow effect based on relationship trend\r\n            // FIX: Only change src if the state has changed, preventing flicker.\r\n            // Check if it's time to start an animation\r\n                // Special logic for idle states\r\n            // Process the animation frame\r\n                        // Animation finished, go back to base and wait\r\n            // This function is now only for the F-key grid's debug controls.\r\n            // The main HUD avatar position is controlled by CSS variables set in tab_controls.js\r\n            // However, we can keep this for the debug view if needed.\r",
      "compressionRatio": 0.12380952380952381,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\faction_manager.js",
      "originalSize": 15212,
      "condensedSize": 1530,
      "content": "// File: 337 lines condensed to 23 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE faction_manager.js\r\nclass FactionManager {\r\n        // New ally pull strength model (in \"points\" or grid units)\r\n        // Ensure pushForces are symmetrical\r\n                // Score is now directly proportional to distance. Low score = friendly.\r\n        // Cap deltaTime to prevent physics explosion when tab is inactive\r\n        // This part is now just for the UI simulation sliders\r\n        // Re-add processing for active allies in the party\r\n        // Process real in-game ally recruitment events\r\n        // --- Process Kill Events ---\r\n            // Only apply repulsion if the killer is part of the player's group\r\n        // --- Calculate Net Forces ---\r\n        // --- Mutual Push Forces (calculated once per pair) ---\r\n        // --- Home Pull & Alliance Pull Calculation ---\r\n            // ALWAYS apply \"rubber band\" force towards home. This ensures factions return.\r\n                // Simple linear pull force based on distance and elasticity\r\n            // Apply alliance pull force towards the player\r\n                // Add a \"dead zone\" of 10 units around the player\r\n        // --- Apply Forces and Update Positions ---\r\n            // Fallback if the data isn't loaded, assuming higher score is more hostile\r\n        // Sort attitudes by threshold descending to check from highest to lowest\r\n        // Default fallback to the attitude with the lowest threshold\r\n        // No-op\r",
      "compressionRatio": 0.10057849066526427,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\furniture.js",
      "originalSize": 401,
      "condensedSize": 401,
      "content": "{\r\n    \"_comment\": \"BROWSERFIREFOXHIDE data/furniture.json\",\r\n    \"_config\": {\r\n        \"modelPath\": \"data/furniture/models/\",\r\n        \"texturePath\": \"data/furniture/\",\r\n        \"textureNamespace\": \"chronokillers_star_wars\"\r\n    },\r\n    \"models\": {\r\n        \"holotable\": {\r\n            \"file\": \"holo_table.json\",\r\n            \"scale\": 0.0625\r\n        }\r\n    },\r\n    \"instances\": [\r\n        \r\n    ]\r\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\game_and_character_config.js",
      "originalSize": 2448,
      "condensedSize": 2448,
      "content": "// BROWSERFIREFOXHIDE game_and_character_config.js\r\n// update: Halved the collision radius for the player and all NPC types to allow for closer movement.\r\n\r\nconst GAME_GLOBAL_CONSTANTS = {\r\n  PLAYER: {\r\n    MAX_HEALTH: 100,\r\n    HEIGHT: 1.02,\r\n    COLLISION_RADIUS: 0.2,\r\n    CLIMB_HEIGHT: 0.88,\r\n    JUMP_STRENGTH: 0.0374\r\n  },\r\n  MOVEMENT: {\r\n    SPEED: 0.0462, \r\n    SPRINT_MULTIPLIER: 3, \r\n    FRICTION: 0.85,\r\n    BOB_SPEED: 8,\r\n    BOB_AMOUNT: 0.02\r\n  },\r\n  WEAPONS: {\r\n    PAMPHLET_SPEED: 0.246, \r\n    BLASTER_BOLT_SPEED: 0.14,\r\n    BLASTER_BOLT_OPACITY: 0.85,\r\n    BLASTER_BOLT_RADIUS: 0.03,\r\n    PAMPHLET_LIFESPAN: 480,\r\n    PAMPHLET_MAX_AMMO: 100,\r\n    PAMPHLET_START_AMMO: 100,\r\n    PAMPHLET_SIZE_MULTIPLIER: 0.7,\r\n    BLASTER_GLOW_SIZE: 2.3,\r\n    BLASTER_GLOW_OPACITY: 0.15,\r\n    // ADDED: Player bolt origin offsets\r\n    BOLT_ORIGIN_X: 0.154,\r\n    BOLT_ORIGIN_Y: -0.13,\r\n    BOLT_ORIGIN_Z: 0.578,\r\n    DROPPED_WEAPON_SCALE_FACTOR: 0.7, // 30% reduction in size\r\n    DEFAULT_DROPPED_OFFSETS: { // Default offsets for dropped weapons if not specified in weapon config\r\n      planes: {\r\n        dist: 0.0001, // Very small distance to make them appear almost as one\r\n        yaw: 0,\r\n        pitch: 0\r\n      }\r\n    }\r\n  },\r\n  WEAPON_RANGES: {\r\n    pistol: 12,\r\n    rifle: 18,\r\n    long: 25,\r\n    melee: 1.5,\r\n    saber: 2.0\r\n  },\r\n  ENVIRONMENT: {\r\n    WALL_HEIGHT: 1.0,\r\n    DOOR_OPEN_TIME: 5000,\r\n    WALL_BARRIER: 0.6\r\n  },\r\n  ELEVATION: {\r\n    STEP_HEIGHT: 0.22,\r\n    PLAYER_GRAVITY: 0.0016,\r\n    NPC_GRAVITY: 0.0243\r\n  },\r\n  GRID: {\r\n    SIZE: 1\r\n  },\r\n  ALLY_RING: {\r\n      OPACITY: 0.94,\r\n      DIAMETER_MULTIPLIER: 0.44,\r\n      BASE_HEIGHT: 0.033\r\n  },\r\n  FACTIONS: {\r\n    PHYSICS_SPEED: 3,\r\n    ALLIANCE_PULL: 0.13,\r\n    KILL_PUSH: 5,\r\n    DAMPING_FACTOR: 0.95,\r\n    MIN_FORCE_THRESHOLD: 0.008,\r\n    FRIENDLY_THRESHOLD: 20,\r\n    HOSTILE_THRESHOLD: 80,\r\n    HOME_PULL_STRENGTH: 0.05,\r\n    ALLIANCE_PULL_MULTIPLIER: 1\r\n  },\r\n  FACTION_HUD: {\r\n      SCALE: 1.0,\r\n      OFFSET_X: 0,\r\n      OFFSET_Y: 0,\r\n      LINE_WIDTH: 2\r\n  }\r\n};\r\n\r\nconst CHARACTER_CONFIG = {}; // This is now obsolete and loaded from JSON files. Kept as an empty object to prevent errors in any lingering references.\r\n\r\nGAME_GLOBAL_CONSTANTS.FACTION_COLORS = {\r\n    rebels: '#d94242',\r\n    aliens: '#008000',\r\n    clones: '#ff8c00',\r\n    imperials: '#444444',\r\n    droids: '#0066cc',\r\n    mandalorians: '#FFC72C',\r\n    sith: '#990000',\r\n    takers: '#C0C0C0'\r\n};",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\gonk_base_stats.json",
      "originalSize": 676,
      "condensedSize": 676,
      "content": "{\n    \"gonk_player\": {\n        \"threat\": 200,\n        \"health\": 200,\n        \"melee_damage\": 200,\n        \"attack_cooldown\": 0.1,\n        \"attack_range\": 200,\n        \"accuracy\": 200,\n        \"perception_radius\": 200,\n        \"aggro\": 0,\n        \"speed\": 0.0462,\n        \"collision_radius\": 0.5,\n        \"weight\": 200,\n        \"soundSet\": null,\n        \"weight_lift\": 200,\n        \"technical_understanding\": 200,\n        \"force_sensitivity\": 200,\n        \"special_moves\": null,\n        \"jump_strength\": 0.0374,\n        \"lie_attack\": 200,\n        \"lie_defense\": 200,\n        \"charm_attack\": 200,\n        \"charm_defense\": 200,\n        \"default_weapon\": \"rifle_dc15a.png\"\n    }\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\gonk_models.js",
      "originalSize": 21417,
      "condensedSize": 636,
      "content": "// File: 477 lines condensed to 8 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE gonk_models.js\r\n// update: DRAMATIC PERFORMANCE REWRITE.\r\n// 1. Replaced per-face material creation with a single shared material per skin, massively reducing draw calls.\r\n// 2. Implemented direct UV mapping on geometries instead of texture cloning and offsetting, reducing memory and improving performance.\r\n// 3. Cached materials to prevent re-creation.\r\nclass GonkModelSystem {\r\n                // After the animation is done, we can consider the animation \"finished\"\r\n                // and it can be stopped.\r",
      "compressionRatio": 0.029696035859364058,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\levelManager.js",
      "originalSize": 6476,
      "condensedSize": 6476,
      "content": "// BROWSERFIREFOXHIDE levelManager.js\r\n// update: Merged previous changes into the full file. A call to game.respawnAllies() is now made after the level is built to ensure allies spawn correctly with the player in the new level.\r\nclass LevelManager {\r\n    constructor() {\r\n        this.currentLevel = 0;\r\n        this.nameData = null;\r\n    }\r\n\r\n    async loadLevel(levelId) {\r\n        if(window.loadingScreenManager) window.loadingScreenManager.show();\r\n        const playtestDataString = localStorage.getItem('gonk_level_to_play');\r\n        try {\r\n            // Reset conversation status for all NPCs and allies on level change.\r\n            if (window.game) {\r\n                if (window.game.npcs) {\r\n                    for (const npc of window.game.npcs) {\r\n                        npc.hasSpoken = false;\r\n                    }\r\n                }\r\n                if (window.game.state && window.game.state.allies) {\r\n                    for (const ally of window.game.state.allies) {\r\n                        if (ally.npc) {\r\n                            ally.npc.hasSpoken = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.currentLevel = levelId;\r\n            let levelData;\r\n\r\n            if(window.loadingScreenManager) window.loadingScreenManager.updateStatus(`Loading Level ${levelId} Data...`);\r\n            if (playtestDataString) {\r\n                levelData = JSON.parse(playtestDataString);\r\n            } else {\r\n                const response = await fetch(`data/levels/level_${levelId}.json`);\r\n                if (!response.ok) throw new Error(`Level file not found for level_${levelId}.json`);\r\n                levelData = await response.json();\r\n            }\r\n\r\n            if (!this.nameData) {\r\n                const nameDataResponse = await fetch('data/npc_names.json');\r\n                if (!nameDataResponse.ok) throw new Error('Failed to load npc_names.json');\r\n                this.nameData = await nameDataResponse.json();\r\n            }\r\n\r\n            // --- Random NPC Resolution & Naming (Step 1) ---\r\n            if (levelData.layers.npcs) {\r\n                const npcLayerMap = new Map(levelData.layers.npcs);\r\n\r\n                // First, resolve random NPCs\r\n                const randomNpcItems = [];\r\n                npcLayerMap.forEach((item, key) => {\r\n                    if (item.type === 'random_npc') {\r\n                        randomNpcItems.push({ key, item });\r\n                    }\r\n                });\r\n\r\n                for (const { key, item } of randomNpcItems) {\r\n                    const criteria = {\r\n                        threat: item.properties.threat,\r\n                        macroCategory: item.properties.macroCategory,\r\n                        subgroup: item.properties.subgroup\r\n                    };\r\n                    const possibleNpcs = assetManager.getNpcsByCriteria(criteria);\r\n\r\n                    if (possibleNpcs.length > 0) {\r\n                        const chosenNpcKey = possibleNpcs[Math.floor(Math.random() * possibleNpcs.length)];\r\n                        // Replace the random_npc item with a specific npc item\r\n                        const chosenNpcItem = { ...item, type: 'npc', key: chosenNpcKey };\r\n                        npcLayerMap.set(key, chosenNpcItem);\r\n                    } else {\r\n                        console.warn(`No NPCs found for random placement criteria:`, criteria);\r\n                        npcLayerMap.delete(key);\r\n                    }\r\n                }\r\n\r\n                // Now, iterate over the entire (potentially updated) map to assign names\r\n                npcLayerMap.forEach((item, key) => {\r\n                    if (item.type !== 'npc') return;\r\n\r\n                    const skinName = item.key;\r\n                    const npcConfig = assetManager.npcIcons.get(skinName)?.config;\r\n\r\n                    if (!npcConfig) {\r\n                        console.warn(`Cannot assign name: No config found for NPC skin '${skinName}'.`);\r\n                        return;\r\n                    }\r\n\r\n                    // For random NPCs, the subgroup is in properties. For specific NPCs, it's in their config.\r\n                    const subgroup = item.properties.subgroup || npcConfig.groupKey;\r\n\r\n                    const npcForNaming = {\r\n                        name: item.properties.name,\r\n                        subgroup: subgroup,\r\n                        faction: npcConfig.faction\r\n                    };\r\n\r\n                    item.properties.name = generateNpcName(npcForNaming, this.nameData);\r\n                });\r\n\r\n\r\n                // Convert the resolved Map back into an array for the asset loader.\r\n                levelData.layers.npcs = Array.from(npcLayerMap.entries());\r\n            }\r\n\r\n            // --- Asset Loading (Step 2) ---\r\n            // Now that all NPCs are known, load all level assets including the newly chosen NPC skins.\r\n            await assetManager.loadLevelAssets(levelData);\r\n            if(window.loadingScreenManager) window.loadingScreenManager.updateStatus('Preloading Weapon Models...');\r\n            await weaponIcons.preloadWeapons(levelData);\r\n\r\n            // --- Level Building (Step 3) ---\r\n            if(window.loadingScreenManager) window.loadingScreenManager.updateStatus('Building Level Geometry...');\r\n            levelRenderer.buildLevelFromData(levelData);\r\n            if (levelData.layers.npcs) {\r\n                // Now, create all NPCs from the fully resolved layer\r\n                await levelRenderer.createNPCs(levelData.layers.npcs);\r\n            }\r\n\r\n            if (window.game) {\r\n                game.respawnAllies();\r\n            }\r\n\r\n            // TODO: Implement furniture loading system. The previous `furnitureLoader` was not defined.\r\n            // const furnitureObjects = await furnitureLoader.loadFromManifest('data/furniture.json');\r\n            // for (const furniture of furnitureObjects) {\r\n            //     game.scene.add(furniture);\r\n            // }\r\n        } catch (error) {\r\n            console.error(`Failed to load or build level ${levelId}:`, error);\r\n            levelRenderer.createFallbackFloor();\r\n        } finally {\r\n            if (playtestDataString) {\r\n                localStorage.removeItem('gonk_level_to_play');\r\n            }\r\n            if(window.loadingScreenManager) window.loadingScreenManager.finishLoading();\r\n        }\r\n    }\r\n}\r\n\r\nwindow.levelManager = new LevelManager();",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\loadingScreenManager.js",
      "originalSize": 10781,
      "condensedSize": 697,
      "content": "// File: 266 lines condensed to 9 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE loadingScreenManager.js\r\n// update: This class was extracted from main.js to resolve a module conflict.\r\n// update: Reverted trivia feedback popup to its original centered position to fix UI glitch.\r\n// update: Halved the trivia screen's post-answer delay for a faster transition back to the game.\r\n// update: Removed redundant instantiation line. Instantiation now happens in index.html's initGame function.\r\nclass LoadingScreenManager {\r\n        // Play a random, non-lyrical song\r\n            // Stop any currently playing music first\r\n// Instantiation moved to index.html",
      "compressionRatio": 0.06465077451071329,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\main.js",
      "originalSize": 43812,
      "condensedSize": 2828,
      "content": "// File: 923 lines condensed to 40 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE main.js\r\n// update: Reverted trivia feedback popup to its original centered position to fix UI glitch.\r\n// update: Halved the trivia screen's post-answer delay for a faster transition back to the game.\r\n// update: Allies will now automatically become hostile towards any NPC that damages the player.\r\n// update: Extracted LoadingScreenManager class to its own file (loadingScreenManager.js) to resolve conflicts and improve modularity.\r\n// update: Added mouse wheel weapon cycling and KeyC character sheet toggle. Implemented Pickup class and updated main game loop for pickups.\r\n// update: Refactored Pickup class to restore functional sine-wave bobbing and ensure co-location (shared X, Y, Z) to guarantee the stable visual flicker effect.\r\n// update: Initialized PlayerWeaponSystem with the correct number of slots and set the starting unlocked slots based on initial module state.\r\n// === INPUT HANDLER ===\r\nclass InputHandler {\r\nclass Pickup {\r\n// === GAME ENGINE CORE ===\r\nclass Game {\r\n        // Initial setup for the expanded slots, 7 slots (0-6)\r\n      // Dispose of the ring immediately\r\n      // Keep the ally in the array, but mark it as dead.\r\n      // The updateHUD will handle displaying the grave marker.\r\n      // This function is now only called when an ally is truly removed, not just dead.\r\n      // For example, when a level is cleared and new allies are added.\r\n    // Modules\r\n    // Stats\r\n    // Wire\r\n          // Update dropped weapons\r\n          // Only check for new conversations when the game is not paused.\r\n                  // Display grave marker\r\n                  // Existing logic for live allies\r\n        // Potential initiators are non-allies who are idle and haven't spoken.\r\n        // Allies who are available to talk.\r\n                // FIX: Prevent allies from talking to NPCs of their own original faction.\r\n                // The initiator is a non-ally, the target (ally) is the one with an originalFaction.\r\n                    // The NPC initiates the conversation with the player's ally.\r\n                    // The non-ally NPC initiates the conversation with the player's ally.\r\n                // For dead allies, we don't remove them from the state.allies array,\r\n                // but we ensure their NPC mesh and ring are removed from the scene.\r\n                // Reset 'hasSpoken' status for the new level.\r\n                // For live allies, reset hasSpoken and remove ring if it exists\r\n    // The rest of the clearScene function remains mostly the same,\r\n    // but we need to be careful about removing NPCs from entities.npcs.\r\n    // Live allies should be kept, dead ones should be removed from entities.npcs.\r\n// === INSTANTIATION ===\r",
      "compressionRatio": 0.06454852551812289,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\npc_behavior.js",
      "originalSize": 40580,
      "condensedSize": 3449,
      "content": "// File: 926 lines condensed to 50 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE npc_behavior.js\n// update: Corrected name generation logic in processName to accurately map faction/baseType to the correct name lists (e.g., 'imperialF' -> 'stormtrooperF', 'cloneF') as defined in npc_names.json, fixing console warnings.\nclass NPC {\n        // All stats are now read directly from the unified config\n            // console.warn(`Weapon data for \"${cleanWeaponName}\" not found.`);\n        // Merge defaults and specific stats. Specific stats take precedence.\n        // NEW: Conversion progress bar\n        // Intercept placeholder names and correct them to match keys in npc_names.json\n            // FIX: Map faction/macroCategory to correct name list key\n            // Re-map column keys to match list names in npc_names.json\n            // Override for Rebels (which can be human_male/female)\n            // Apply name key map for other macroCategories\n            // Prioritize baseType for specific races like Wookiees\n                // Determine if a space is needed based on the name category key\n        // Post-recruitment friendly fire grace period\n        // --- ALLY FRIENDLY FIRE PREVENTION ---\n        // If this NPC is an ally, check if the attacker is also friendly.\n        // If this NPC is an ally and was attacked, have other allies aggro the attacker\n            // --- Fleeing Logic Overhaul ---\n            // If already in combat, ignore flee logic.\n                // Do nothing, continue attacking.\n            // If hit while fleeing, immediately turn to fight.\n            // If this is the first time making a flee decision...\n        // Update and show the conversion bar\n            // Play Wookiee conversion sound\n        // Absolute prohibition: Never aggro a friendly target.\n        // 1. Use weapon-specific range multiplier if available\n        // 2. Fallback to category-based range\n        // 3. Absolute fallback for melee or un-categorized weapons\n        // Fallback for ranged weapons not in the WEAPON_RANGES config.\n                    // FIX: Separate the look-at target from the line-of-sight target.\n                    // The body should only rotate on the Y-axis to prevent tilting.\n                 // Placeholder for future logic\n                // Possible flags could be set here for random events like conversations,\n                // turning hostile, etc. after the investigation movement is complete.\n        // If already in combat or fleeing, don't proactively search for new targets\n            // But check if current target is dead or out of sight\n        // Priority 5: Attack Hostiles & Priority 7: Defend Allies\n        // Priority 11: Investigate Player\n        // Priority 13: Idle (Default)\n                // Absolute rule: Never target same faction, even if aggro. Allies should not fight allies.\n    // --- NEW: Conversation Highlight ---\n    // --- END NEW ---\n        // Use a small threshold to account for floating point inaccuracies\n        // Only set animation if not in a special attack animation\n        // Use weapon-specific cooldown if available\n        // Prevent NPCs with no weapon from attacking\n        // FIX: Add a crucial range check for melee attacks.\n            // Use weapon damage if available, otherwise fallback to NPC's base melee damage\n        // --- Accuracy Calculation (incorporates weapon stats) ---",
      "compressionRatio": 0.08499260719566289,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\npc_behavior_death.js",
      "originalSize": 7462,
      "condensedSize": 7462,
      "content": "function handleNpcDeath(npc, killer = null) {\n    console.log(`handleNpcDeath called for ${npc.name} (ID: ${npc.mesh.group.uuid}) at ${performance.now()}`);\n    if (npc.isDead) return;\n    npc.isDead = true;\n    npc.currentState = 'DEAD';\n    npc.movementCollider.velocity.set(0, 0, 0);\n    // window.setGonkAnimation(npc.mesh, 'death'); // Removed explicit death animation\n    physics.createRagdoll(npc.mesh); // Apply ragdoll immediately\n\n    if (npc.isAlly && killer) {\n        let closestTarget = null;\n        let minDistance = Infinity;\n\n        // Find the player\n        const player = window.physics.playerCollider;\n        const distanceToPlayer = npc.mesh.group.position.distanceTo(player.position);\n        if (distanceToPlayer < minDistance) {\n            minDistance = distanceToPlayer;\n            closestTarget = window.game.playerEntity;\n        }\n\n        // Find the closest ally\n        for (const ally of window.game.state.allies) {\n            if (ally.npc && !ally.npc.isDead && ally.npc !== npc) {\n                const distanceToAlly = npc.mesh.group.position.distanceTo(ally.npc.mesh.group.position);\n                if (distanceToAlly < minDistance) {\n                    minDistance = distanceToAlly;\n                    closestTarget = ally.npc;\n                }\n            }\n        }\n\n        if (closestTarget) {\n            killer.aggro(closestTarget);\n        }\n    }\n\n    // --- Drop Pickups ---\n    const dropPosition = npc.mesh.group.position.clone();\n    dropPosition.y = physics.getGroundHeight(dropPosition.x, dropPosition.z) + 0.2;\n\n    const threat = npc.config.threat || 1;\n    let noDropChance;\n    if (threat >= 5) {\n        noDropChance = 0;\n    } else {\n        noDropChance = 0.9 - (threat - 1) * 0.2;\n    }\n\n    if (Math.random() >= noDropChance) {\n        const allWeaponData = window.assetManager.weaponData;\n        let droppableWeapons = [];\n        let randomWeaponTotalWeight = 0;\n        if (allWeaponData) {\n            for (const weaponKey in allWeaponData) {\n                if (weaponKey.startsWith('_')) continue;\n                const weapon = allWeaponData[weaponKey];\n                const dropFactionsRaw = weapon['drop_faction[4\t]'] || weapon['drop_faction[2\t]'] || weapon['drop_faction[3\t]'] || weapon.drop_faction;\n                if (dropFactionsRaw) {\n                    const factions = String(dropFactionsRaw).split('\t').map(f => f.trim().toLowerCase());\n                    if (factions.includes(npc.faction.toLowerCase())) {\n                        const dropWeight = weapon.drop_weight || 0;\n                        if (dropWeight > 0) {\n                            droppableWeapons.push({ key: weaponKey, weight: dropWeight });\n                            randomWeaponTotalWeight += dropWeight;\n                        }\n                    }\n                }\n            }\n        }\n\n        const hasEquippedWeapon = npc.itemData.properties.weapon && npc.itemData.properties.weapon !== 'none';\n        const equippedWeaponWeight = hasEquippedWeapon ? 250 : 0;\n        const healthWeight = 20;\n        const wireWeight = 20;\n        const moduleWeight = 10;\n\n        const totalWeight = randomWeaponTotalWeight + equippedWeaponWeight + healthWeight + wireWeight + moduleWeight;\n        if (totalWeight > 0) {\n            let roll = Math.random() * totalWeight;\n\n            // Check for equipped weapon drop\n            if (hasEquippedWeapon) {\n                roll -= equippedWeaponWeight;\n                if (roll <= 0) {\n                    const weaponKey = npc.itemData.properties.weapon.split('/').pop().replace('.png', '');\n                    const weaponData = allWeaponData[weaponKey]; // Get weapon data to retrieve drop_weight\n                    const equippedWeaponDropWeight = weaponData?.drop_weight || 0;\n                    window.game.entities.droppedWeapons.push(new WeaponPickup(weaponKey, dropPosition.clone(), equippedWeaponDropWeight));\n                    return; // Return after dropping one item.\n                }\n            }\n\n            // Check for health pickup\n            roll -= healthWeight;\n            if (roll <= 0) {\n                game.entities.pickups.push(new Pickup('health', 'healthsmall.png', dropPosition.clone()));\n                return;\n            }\n\n            // Check for wire pickup\n            roll -= wireWeight;\n            if (roll <= 0) {\n                game.entities.pickups.push(new Pickup('wire', 'wiresmall.png', dropPosition.clone()));\n                return;\n            }\n\n            // Check for module pickup\n            roll -= moduleWeight;\n            if (roll <= 0) {\n                const moduleOptions = [\n                    'force_mindtrick', 'force_shield', 'melee_damageup',\n                    'move_jump', 'move_speed', 'ranged_firerateup',\n                    'toughness_armorup', 'toughness_healthup'\n                ];\n                const randomModule = moduleOptions[Math.floor(Math.random() * moduleOptions.length)];\n                game.entities.pickups.push(new Pickup('module', randomModule, dropPosition.clone()));\n                return;\n            }\n\n            // Check for random weapon drop\n            if (droppableWeapons.length > 0) {\n                for (const weapon of droppableWeapons) {\n                    roll -= weapon.weight;\n                    if (roll <= 0) {\n                        window.game.entities.droppedWeapons.push(new WeaponPickup(weapon.key, dropPosition.clone(), weapon.weight));\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    \n    // --- End Weapon Drop ---\n\n\n    if (npc.config.baseType === 'gamorrean' && window.audioSystem) {\n        audioSystem.playPositionalSoundFromList('gamorreandeath', npc.mesh.group.position, 0.9);\n    } else if (npc.config.baseType === 'wookiee' && window.audioSystem) {\n        audioSystem.playPositionalSoundFromList('wookdeath', npc.mesh.group.position, 0.9);\n    } else if (window.audioSystem) {\n        const maleTypes = ['human_male', 'humanoid', 'clone', 'mandalorian', 'stormtrooper', 'darth', 'taker'];\n        const soundSet = npc.itemData.properties?.soundSet;\n\n        if (soundSet === 'female') {\n            audioSystem.playPositionalSoundFromList('femaledeath', npc.mesh.group.position, 0.9);\n        } else if (maleTypes.includes(npc.config.baseType) && soundSet !== 'female') {\n            audioSystem.playMaleDeathSound(npc.mesh.group.position, 0.9);\n        }\n    }\n\n    if (killer && window.game.factionManager) {\n        const killerFaction = (killer === physics.playerEntity || killer.isPlayer) ? 'player_droid' : killer.faction;\n        if(killerFaction === 'player_droid') game.handlePlayerKill(npc);\n\n        // window.game.factionManager.applyKillRepulsion(killerFaction, npc.faction);\n\n        // If killed by player or an ally, trigger the sad animation for the victim's faction\n        if ((killerFaction === 'player_droid' || killer.isAlly) && window.factionAvatarManager) {\n            window.factionAvatarManager.triggerSpecialAnimation(npc.faction, 's1');\n        }\n    }\n\n    setTimeout(() => {\n        // if (npc.mesh.modelDef && npc.mesh.modelDef.parts.head) { // Ragdoll is now applied immediately\n        //     physics.createRagdoll(npc.mesh);\n        // }\n        game.scene.remove(npc.mesh.group);\n        if (npc.isAlly) game.handleAllyDeath(npc);\n    }, 3000); // Increased delay to 3 seconds for ragdoll to settle\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\player_gear.js",
      "originalSize": 43647,
      "condensedSize": 6298,
      "content": "// File: 1027 lines condensed to 83 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE player_gear.js\r\n// update: Forced a camera matrix update before firing weapons to ensure projectile origin and melee hit detection use the correct, up-to-date player position, fixing spawn/hit registration errors.\r\n// update: Replaced performance-intensive PointLights on blaster bolts with billboarded glow sprites for significant optimization in large battles.\r\n// update: Changed BlasterBolt material from MeshBasicMaterial to MeshStandardMaterial to allow it to receive lighting and emissive properties, making it glow correctly.\r\n// rewrite: Refactored PlayerWeaponSystem to manage an array of weapons and allow cycling. MeleeWeapon class is now generic for all player melee weapons.\r\n// update: Corrected the path for the Gaffi Stick asset to fix 404 error.\r\n// rewrite: Implemented sprite-based frame animation for the Zapper, extended weapon slots, and added logic for starting gear including the 4-slot module.\r\n// fix: Corrected Zapper path construction in _generateWeaponConfigs to eliminate duplication and ensure the correct key is used, solving the persistent 404 error.\r\n// fix: Ensured only the Zapper loads multiple frames; all other weapons load only their base image for the 'idle' state, fixing massive 404 floods.\r\n// fix: Implemented robust hit detection in PlayerWeaponSystem.performMeleeHitDetection for melee/saber weapons.\r\nclass BlasterBolt {\r\n        // PERFORMANCE FIX: Use a shared glow sprite instead of a PointLight\r\n        // The collider sphere remains for hit detection\r\nclass PamphletProjectile {\r\nclass MeleeWeapon {\r\n        // For layered weapons like sabers\r\n        // This is a placeholder mesh, its texture will be set on loadTextures\r\n        // Hide until loaded and active\r\n        // Zapper specific animation properties\r\n        // Determine which frames to load: all defined frames if Zapper, only 'idle' otherwise\r\n            // frames[key] contains the path relative to /data/gonkonlyweapons/, e.g., 'melee/gmelee_zapper/gmelee_zapper_a'\r\n        // --- SABER BLADE LOADING ---\r\n        // Apply the specific transform values when the weapon is made active.\r\n        // Play saber ignite sound on switch\r\n        // Play saber deactivate sound on switch\r\n            // General ranged/pistol fire sound placeholder\r\n        // Light pops immediately\r\n        // Handle light fading independent of attack state\r\n        // Update blade emissive color from UI controls\r\n            // Placeholder: Assume this color is controlled by UI or logic\r\n        // --- Zapper Animation Logic (Attack/Extension/Retraction) ---\r\nclass RangedWeapon extends MeleeWeapon {\r\n        // Overwrite base position with ranged default\r\n            // play empty sound\r\n        // Fire the blaster bolt\r\n        // Light pops immediately\r\n        // Offset the bolt to appear to come from the weapon, not the player's face.\r\n    // Ranged weapons have their own simple recoil animation.\r\n        // Call parent update for bobbing and light fading\r\n            // A simple parabola: moves back and then returns to start.\r\nclass SaberWeapon extends MeleeWeapon {\r\n        // Attack animation properties\r\n        // Store the starting position/rotation for the attack animation\r\n        // Store the current position and rotation to animate from\r\nclass PlayerWeaponSystem {\r\n      // All weapons owned by the player, regardless of slot status\r\n      // Slot configuration (used for UI display and hotkeys, derived from categories)\r\n        // 1. Initial configuration and loading of all player weapon assets\r\n        // 2. Add starting module and weapons\r\n        // 3. Set initial active weapon\r\n        // This set will track which base weapons we've already processed to avoid duplicates from animation frames.\r\n            // The incoming path from assetManager is absolute, e.g., /data/gonkonlyweapons/melee/foo.png\r\n            // We need to parse it to get the relative parts for config generation.\r\n            // For multi-frame weapons, derive a base key and check if we've processed it.\r\n            // Define frame configuration\r\n                 // Use the specific 'a' frame as the key for instantiation\r\n                // Use the specific filename for the key to find it later, but the baseKey to prevent duplicates.\r\n            // --- Category-specific overrides (Transforms) ---\r\n        // 1. Add Module and Unlock Slots\r\n        // 2. Add Starting Weapons by Key (which are the file names without extension)\r\n        // Construct frames for player weapons (assuming they are single-frame for now unless zapper)\r\n            // Determine if it's a player weapon (starts with 'g') or NPC weapon\r\n                // For NPC weapons, the path is data/NPConlyweapons/category/weaponKey.png\r\n            // Add other properties from weaponConfig\r\n        // Apply category-specific overrides for player weapon transforms\r\n        // If there's an existing weapon in this slot, dispose of it\r\n            // Create a WeaponPickup instance for the old weapon at the player's feet\r\n        // Add the new weapon\r\n        // If the new weapon is for the currently active slot, make it active\r\n    // Adjusted logic to cycle through filled and unlocked slots based on `this.slots`\r\n        // Ensure it's a melee weapon and is currently attacking\r\n        // Iterate through all NPCs to find a target within striking distance\r\n            // Use the position of the NPC's movement collider, which is more accurate for combat\r\n                // Check if the NPC is within the player's frontal cone of vision\r\n                // Attack cone defined by 'cone' property (e.g., 0.8 means 36 degrees from center)\r\n                    // Perform a trace check to ensure no wall is directly between the weapon and the NPC center\r\n                    // We skip this complex trace for now and rely on distance/cone.\r\n            // Apply damage to the closest valid target\r\n            // If the weapon is a saber, play a strike sound on hit\r\n            // Perform hit detection immediately when attack is initiated\r\n                    // Icon image path uses the correct directory\r\n        // Highlight active slot\r\n// === INSTANTIATION ===\r",
      "compressionRatio": 0.14429399500538412,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\skybox_animator.js",
      "originalSize": 1804,
      "condensedSize": 1804,
      "content": "// BROWSERFIREFOXHIDE skybox_animator.js\r\n// new file: Manages the playback of pre-loaded animated skybox textures.\r\nclass SkyboxAnimator {\r\n    constructor(textureArray, framesPerSecond = 24) {\r\n        this.textures = textureArray;\r\n        this.pmremGenerator = null;\r\n        this.envMaps = [];\r\n        this.isInitialized = false;\r\n\r\n        this.fps = framesPerSecond;\r\n        this.frameDuration = 1.0 / this.fps;\r\n        this.currentIndex = 0;\r\n        this.elapsedTime = 0;\r\n    }\r\n\r\n    async initialize(renderer) {\r\n        if (this.isInitialized || this.textures.length === 0) return;\r\n        this.pmremGenerator = new THREE.PMREMGenerator(renderer);\r\n        this.pmremGenerator.compileEquirectangularShader();\r\n\r\n        for (const texture of this.textures) {\r\n            texture.mapping = THREE.EquirectangularReflectionMapping;\r\n            texture.encoding = THREE.sRGBEncoding;\r\n            const envMap = this.pmremGenerator.fromEquirectangular(texture);\r\n            this.envMaps.push(envMap.texture);\r\n            texture.dispose(); \r\n        }\r\n\r\n        this.textures = [];\r\n        this.pmremGenerator.dispose();\r\n        this.pmremGenerator = null;\r\n        this.isInitialized = true;\r\n    }\r\n\r\n    update(deltaTime) {\r\n        if (!this.isInitialized || this.envMaps.length === 0) return;\r\n        this.elapsedTime += deltaTime;\r\n        if (this.elapsedTime >= this.frameDuration) {\r\n            this.elapsedTime -= this.frameDuration;\r\n            this.currentIndex = (this.currentIndex + 1) % this.envMaps.length;\r\n            if (game && game.scene) game.scene.background = this.envMaps[this.currentIndex];\r\n        }\r\n    }\r\n\r\n    dispose() {\r\n        this.envMaps.forEach(map => map.dispose());\r\n        this.envMaps = [];\r\n        this.isInitialized = false;\r\n    }\r\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\tab_controls.js",
      "originalSize": 71630,
      "condensedSize": 3262,
      "content": "// File: 1030 lines condensed to 54 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE tab_controls.js\r\n// update: Re-implemented the logic for the player and NPC weapon sliders to correctly modify weapon transforms and pamphlet sizes in real-time.\r\n// update: Faction physics reset button now correctly reads default values from GAME_GLOBAL_CONSTANTS.\r\nclass TabControls {\r\n        // ADDED: Helper for player's blaster bolt origin\r\n        // This will be injected later\r\n        // This logic is being removed because it was incorrectly loading ALL weapon categories,\r\n        // including NPC-only ones, into the player's weapon system context.\r\n        // The new system will handle NPC weapons entirely within the level editor's properties panel.\r\n        // if (window.assetManager && window.assetManager.weaponData && window.assetManager.weaponData._defaults) {\r\n        //     const categories = Object.keys(window.assetManager.weaponData._defaults.categoryDefaults);\r\n        //     categories.forEach((cat, index) => {\r\n        //         const activeClass = index === 0 ? 'active' : '';\r\n        //         weaponCatTabs += `<button class=\"editor-tab-btn weapon-cat-btn ${activeClass}\" data-category=\"${cat}\">${cat}</button>`;\r\n        //     });\r\n        // }\r\n        // Faction HUD in Label Tab\r\n        // ADDED: Faction Avatar sliders\r\n        // Labels & Rings\r\n        // --- The rest of the event listeners ---\r\n        // Position\r\n        // Rotation (convert radians to degrees for UI)\r\n        // Scale\r\n        // Pamphlet\r\n        // Bolt Origin\r\n        // The UI shows positive-right, but the code uses negative-right, so we invert it for the slider.\r\n        // Manually trigger the update function to refresh all the text labels next to the sliders\r\n        // This was the missing link. The faction HUD sliders were not calling the avatar position update.\r\n        // Nameplates\r\n        // Rings\r\n        // Faction HUD\r\n    // ... (The rest of the functions from the original file are below)\r\n        // Apply changes to existing blaster bolts in real-time\r\n        // ... implementation from original file ...\r\n        // Health/Gonk Display\r\n        // Ally Boxes\r\n        // Ammo/Weapon Display\r\n        // ... implementation from original file ...\r\n        // ... implementation from original file ...\r\n        // ... implementation from original file ...\r\n        // ... implementation from original file ...\r\n        // FIX: Load the current player weapon's transform into the UI sliders.\r\n        // FIX: Update the basePosition vector, not the mesh's position directly.\r\n        // FIX: Invert the X-axis value to match user expectation (positive = right).\r\n        // ADDED: Update bolt origin helper position in real-time\r\n        // Update UI labels\r\n        // ... implementation from original file ...\r\n        // ... implementation from original file ...\r\n        // ... implementation from original file ...\r\n        // Labels\r\n        // Rings\r\n                // FIX: Changed npc.config.stats.collisionRadius to npc.config.collision_radius\r\n        // ... this is an old function, will be replaced by snapshotVisuals ...\r\n        // ... implementation from original file ...\r",
      "compressionRatio": 0.04553957838894318,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\tab_conversation_simulator.js",
      "originalSize": 6744,
      "condensedSize": 6744,
      "content": "// BROWSERFIREFOXHIDE tab_conversation_simulator.js\n\nclass TabConversationSimulator {\n    constructor(gameInstance, tabControls) {\n        this.game = gameInstance;\n        this.tabControls = tabControls;\n    }\n\n    initialize() {\n        const tabPane = document.getElementById('tab-pane-conversation-sim');\n        if (!tabPane) {\n            console.log('Conversation simulator tab pane not found!');\n            return;\n        }\n        tabPane.innerHTML = this.createHTML();\n        this.populateSelectors();\n        this.addEventListeners();\n    }\n\n    createHTML() {\n        return `\n            <h4>Conversation Simulator</h4>\n            <p>Select two characters to simulate a conversation. The simulation will run even if the game is paused.</p>\n            <div class=\"simulator-group\">\n                <h5>Initiator</h5>\n                <div class=\"control-group\">\n                    <label for=\"sim-initiator-faction\">Faction:</label>\n                    <select id=\"sim-initiator-faction\"></select>\n                </div>\n                <div class=\"control-group\">\n                    <label for=\"sim-initiator-subgroup\">Subgroup:</label>\n                    <select id=\"sim-initiator-subgroup\"></select>\n                </div>\n            </div>\n            <div class=\"simulator-group\">\n                <h5>Target</h5>\n                <div class=\"control-group\">\n                    <label for=\"sim-target-faction\">Faction:</label>\n                    <select id=\"sim-target-faction\"></select>\n                </div>\n                <div class=\"control-group\">\n                    <label for=\"sim-target-subgroup\">Subgroup:</label>\n                    <select id=\"sim-target-subgroup\"></select>\n                </div>\n            </div>\n            <button id=\"start-conversation-sim-btn\">Start Simulation</button>\n            <div id=\"conversation-sim-log\"></div>\n        `;\n    }\n\n    populateSelectors() {\n        const factions = window.game.factionManager ? Object.keys(window.game.factionManager.factions) : [];\n        const subgroups = window.assetManager ? Object.keys(window.assetManager.npcGroups).filter(k => !k.startsWith('_')) : [];\n\n        const initiatorFactionSelect = document.getElementById('sim-initiator-faction');\n        const targetFactionSelect = document.getElementById('sim-target-faction');\n        const initiatorSubgroupSelect = document.getElementById('sim-initiator-subgroup');\n        const targetSubgroupSelect = document.getElementById('sim-target-subgroup');\n\n        if (!initiatorFactionSelect || !targetFactionSelect || !initiatorSubgroupSelect || !targetSubgroupSelect) {\n            return;\n        }\n\n        // Populate factions\n        factions.forEach(faction => {\n            const option1 = document.createElement('option');\n            option1.value = faction;\n            option1.textContent = faction;\n            initiatorFactionSelect.appendChild(option1);\n\n            const option2 = document.createElement('option');\n            option2.value = faction;\n            option2.textContent = faction;\n            targetFactionSelect.appendChild(option2);\n        });\n\n        // Populate subgroups\n        subgroups.forEach(subgroup => {\n            const option1 = document.createElement('option');\n            option1.value = subgroup;\n            option1.textContent = subgroup;\n            initiatorSubgroupSelect.appendChild(option1);\n\n            const option2 = document.createElement('option');\n            option2.value = subgroup;\n            option2.textContent = subgroup;\n            targetSubgroupSelect.appendChild(option2);\n        });\n    }\n\n    addEventListeners() {\n        const startButton = document.getElementById('start-conversation-sim-btn');\n        if (startButton) {\n            startButton.addEventListener('click', () => this.startSimulation());\n        }\n    }\n\n    startSimulation() {\n        const initiatorFaction = document.getElementById('sim-initiator-faction').value;\n        const initiatorSubgroup = document.getElementById('sim-initiator-subgroup').value;\n        const targetFaction = document.getElementById('sim-target-faction').value;\n        const targetSubgroup = document.getElementById('sim-target-subgroup').value;\n\n        const logDiv = document.getElementById('conversation-sim-log');\n        logDiv.innerHTML = `Starting simulation between <strong>${initiatorFaction} (${initiatorSubgroup})</strong> and <strong>${targetFaction} (${targetSubgroup})</strong>...`;\n\n        // Create dummy NPCs for simulation\n        const initiator = this.createDummyNpc('Initiator', initiatorFaction, initiatorSubgroup);\n        const target = this.createDummyNpc('Target', targetFaction, targetSubgroup);\n\n        // The conversation should run while paused.\n        const originalPauseState = this.game.state.isPaused;\n        this.game.state.isPaused = false;\n\n        window.conversationController.startConversation(initiator, target);\n\n        // Restore pause state after a delay to allow conversation to finish\n        setTimeout(() => {\n            this.game.state.isPaused = originalPauseState;\n            logDiv.innerHTML += '<br>Simulation finished.';\n        }, 10000); // 10 seconds for the conversation\n    }\n\n    createDummyNpc(name, faction, subgroup) {\n        if (!subgroup) {\n            console.error(\"Subgroup is empty!\");\n            return null;\n        }\n        const groupData = window.assetManager.npcGroups[subgroup] || {};\n        const config = {\n            ...(window.assetManager.npcGroups._globals || {}),\n            ...(window.assetManager.npcGroups._base_type_defaults[groupData.baseType] || {}),\n            baseType: groupData.baseType,\n            faction: faction,\n            macroCategory: groupData.macroCategory,\n            groupKey: subgroup,\n            language: 'language_basic',\n            noConversation: false,\n        };\n\n        // Get lie/charm stats from globals or defaults\n        config.lie_attack = config.lie_attack || 50;\n        config.charm_attack = config.charm_attack || 50;\n        config.lie_defense = config.lie_defense || 50;\n        config.charm_defense = config.charm_defense || 50;\n\n        return {\n            name: name,\n            faction: faction,\n            originalFaction: faction,\n            config: config,\n            isAlly: false,\n            isConversing: false,\n            isDead: false,\n            currentState: 'IDLING',\n            mesh: {\n                group: {\n                    position: new THREE.Vector3(),\n                    lookAt: () => {},\n                },\n                parts: {}\n            },\n            startHighlight: () => {},\n            stopHighlight: () => {},\n            aggro: () => {},\n        };\n    }\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    },
    {
      "path": "e:\\gonk\\tab_faction_controls.js",
      "originalSize": 20865,
      "condensedSize": 222,
      "content": "// File: 289 lines condensed to 3 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE tab_faction_controls.js\r\nclass TabFactionControls {\r\n            // Symmetrical update for strength\r",
      "compressionRatio": 0.010639827462257369,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\weapon_icons.js",
      "originalSize": 18457,
      "condensedSize": 2685,
      "content": "// File: 416 lines condensed to 26 lines\n// Extraction: Function signatures, imports, exports, types\n// BROWSERFIREFOXHIDE weapon_icons.js\r\n// update: Fixed a critical bug where an NPC's weapon mesh was not being correctly assigned to the NPC instance, causing ranged units to default to melee attacks. Both attach and remove functions now correctly modify the primary NPC object.\r\n// update: Added a clear() method and improved disposal logic to prevent memory leaks during level transitions.\r\n// update: Modified getCategoryFromName to correctly parse player weapon keys (starting with 'g') and map them to the correct inventory categories (pistol, rifle, longarm, etc.), fixing the slot assignment error.\r\n// fix: Corrected the category mapping for NPC saber weapons (those not starting with 'g') to search the expected 'saber' folder, resolving 404 errors for NPC sabers used in character JSONs.\r\n// fix: Corrected typo 'persistentAllyWehes' to 'persistentAllyWeapons' in the clear method, resolving the game-breaking ReferenceError.\r\nclass WeaponIconSystem {\r\n        // This is called when a level changes to clean up weapon meshes of non-persistent NPCs.\r\n                 // The weapon mesh is removed from the scene when its parent NPC group is removed.\r\n                 // We just need to dispose of its geometry and materials here.\r\n            // FIX: If the path is just a filename, construct the full path.\r\n            // This handles cases where level data might store only the weapon name.\r\n            // Fallback material (magenta for missing texture)\r\n        // Map prefixes to folder/inventory category keys. Player weapon names start with 'g'.\r\n        // Handle names that start with 'g' (player weapons) by stripping the 'g' prefix\r\n            // Note: 'saberhilt' is player, 'saber' is often NPC\r\n            // FIX: If it's an NPC weapon and the name starts with 'saber', assume the folder name is simply 'saber'\r\n            // Handle the zapper\r\n        // Apply pose data for pickup (can be different from character attachment)\r\n            // For pickups, we might want a more generic upright pose or a slightly rotated one\r\n            // For now, let's use a simplified version of the attached pose\r\n            // FIX: Construct the correct path for NPC weapons using their resolved category.\r\n                // Zapper is a special case, located in the player weapon directory.\r\n                // We hardcode the path to the 'a' frame, as the NPC weapon system currently treats it as static.\r\n            // This part is for NPC weapon glows, which still use lights for now.\r\n                // Update the new glow sprite instead of the old light\r",
      "compressionRatio": 0.14547326217695183,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\weapon_pickup_manager.js",
      "originalSize": 13169,
      "condensedSize": 884,
      "content": "// File: 361 lines condensed to 12 lines\n// Extraction: Function signatures, imports, exports, types\nclass WeaponPickupManager {\n        // A proper WeaponPickup object has a 'weaponKey' string.\n        // If not, it might be a raw weapon object that was dropped.\n            // Player weapons have a 'g' prefix in their key, we want the base name for lookup.\n        // Or it might be a WeaponPickup where weaponKey was incorrectly assigned a weapon object.\n            // join all parts after the first one, capitalize each\n        // Example: an ewok cannot use an eweb cannon\n        // Use playerStats from game.state, assuming it's initialized\n        // This path needs to be correct for the NPC to find the weapon asset\n        // You'll need a way to update the UI for this. Let's assume a function exists.\nclass WeaponPickup {\n        // Add light source based on dropWeight",
      "compressionRatio": 0.06712734452122408,
      "extractionMethod": "js_structure_extraction"
    },
    {
      "path": "e:\\gonk\\data\\levels\\level_1.json",
      "originalSize": 85262,
      "condensedSize": 2536,
      "content": "{\n  \"settings\": {\n    \"width\": 64,\n    \"height\": 128,\n    \"defaults\": {\n      \"skybox\": \"...(truncated)\"\n    }\n  },\n  \"layers\": {\n    \"floor\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(62 more items)\"\n    ],\n    \"floater\": [\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ],\n    \"npcs\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(40 more items)\"\n    ],\n    \"pillar\": [\n      \"...(truncated)\"\n    ],\n    \"wall\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(100 more items)\"\n    ],\n    \"door\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(40 more items)\"\n    ],\n    \"dock\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(1 more items)\"\n    ],\n    \"dangler\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\"\n    ],\n    \"elevation\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(2 more items)\"\n    ],\n    \"spawns\": [\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(truncated)\",\n      \"...(2 more items)\"\n    ]\n  }\n}",
      "compressionRatio": 0.029743613802162745,
      "extractionMethod": "json_optimization"
    },
    {
      "path": "e:\\gonk\\data\\furniture\\crate.json",
      "originalSize": 856,
      "condensedSize": 856,
      "content": "{\n  \"_comment\": \"A simple 16x16x16 cube model for a crate. BROWSERFIREFOXHIDE crate.json\",\n  \"textures\": {\n    \"all\": \"chronokillers_star_wars:blocks/crate\"\n  },\n  \"elements\": [\n    {\n      \"from\": [\n        0,\n        0,\n        0\n      ],\n      \"to\": [\n        16,\n        16,\n        16\n      ],\n      \"faces\": {\n        \"down\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"down\"\n        },\n        \"up\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"up\"\n        },\n        \"north\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"north\"\n        },\n        \"south\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"south\"\n        },\n        \"west\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"west\"\n        },\n        \"east\": {\n          \"texture\": \"#all\",\n          \"cullface\": \"east\"\n        }\n      }\n    }\n  ]\n}",
      "compressionRatio": 1,
      "extractionMethod": "no_compression"
    }
  ]
}